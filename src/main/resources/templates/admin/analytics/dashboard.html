<!--<!DOCTYPE html>-->
<!--<html lang="uk" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>-->
<!--</head>-->
<!--<body>-->

<!--<h1>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π</h1>-->

<!--&lt;!&ndash; –ù–∞–≤–∏–≥–∞—Ü–∏—è &ndash;&gt;-->
<!--<p>-->
<!--    <a href="/analytics/countries">üåç –°—Ç—Ä–∞–Ω—ã</a> |-->
<!--    <a href="/analytics/ip">üîç –ü–æ–∏—Å–∫ –ø–æ IP</a> |-->
<!--    <a href="/analytics/top-ips">üë• –¢–æ–ø IP</a> |-->
<!--    <a href="/analytics/visitors">üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</a>-->
<!--</p>-->

<!--<hr>-->

<!--&lt;!&ndash; –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ &ndash;&gt;-->
<!--<h2>üìà –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>-->
<!--<table border="2" cellpadding="10" width="100%">-->
<!--    <tr>-->
<!--        <td style="text-align: center; background-color: #e3f2fd;">-->
<!--            <h3>üë• –í—Å–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏–π</h3>-->
<!--            <strong style="font-size: 2em; color: #1976d2;" th:text="${stats.totalVisits ?: 0}">1,234</strong>-->
<!--            <br><small>–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</small>-->
<!--        </td>-->
<!--        <td style="text-align: center; background-color: #e8f5e8;">-->
<!--            <h3>üìÖ –ó–∞ –Ω–µ–¥–µ–ª—é</h3>-->
<!--            <strong style="font-size: 2em; color: #388e3c;" th:text="${stats.weeklyVisits ?: 0}">156</strong>-->
<!--            <br><small>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</small>-->
<!--        </td>-->
<!--        <td style="text-align: center; background-color: #fff3e0;">-->
<!--            <h3>üì± –ú–æ–±–∏–ª—å–Ω—ã—Ö</h3>-->
<!--            <strong style="font-size: 2em; color: #f57c00;" th:text="${#numbers.formatDecimal(stats.mobilePercentage ?: 0, 1, 1)} + '%'">45.2%</strong>-->
<!--            <br><small>–û—Ç –≤—Å–µ—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π</small>-->
<!--        </td>-->
<!--        <td style="text-align: center; background-color: #f3e5f5;">-->
<!--            <h3>üïê –°–µ–≥–æ–¥–Ω—è</h3>-->
<!--            <strong style="font-size: 2em; color: #7b1fa2;" th:text="${todayVisits ?: 0}">23</strong>-->
<!--            <br><small>–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö: <span th:text="${todayUnique ?: 0}">15</span></small>-->
<!--        </td>-->
<!--    </tr>-->
<!--</table>-->

<!--<hr>-->

<!--&lt;!&ndash; –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã &ndash;&gt;-->
<!--<table width="100%">-->
<!--    <tr>-->
<!--        <td width="50%" valign="top">-->
<!--            &lt;!&ndash; –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã &ndash;&gt;-->
<!--            <h3>üåç –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã (–Ω–µ–¥–µ–ª—è)</h3>-->
<!--            <div th:if="${topCountries != null and !topCountries.isEmpty()}">-->
<!--                <table border="1" cellpadding="5" width="100%">-->
<!--                    <thead>-->
<!--                    <tr style="background-color: #f0f0f0;">-->
<!--                        <th>–ú–µ—Å—Ç–æ</th>-->
<!--                        <th>–°—Ç—Ä–∞–Ω–∞</th>-->
<!--                        <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="country, countryStat : ${topCountries}">-->
<!--                        <td style="text-align: center;">-->
<!--                            <strong th:text="${countryStat.count}">1</strong>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                                    <span th:switch="${country[0]}">-->
<!--                                        <span th:case="'Ukraine'">üá∫üá¶</span>-->
<!--                                        <span th:case="'Poland'">üáµüá±</span>-->
<!--                                        <span th:case="'Germany'">üá©üá™</span>-->
<!--                                        <span th:case="'United States'">üá∫üá∏</span>-->
<!--                                        <span th:case="'Canada'">üá®üá¶</span>-->
<!--                                        <span th:case="'France'">üá´üá∑</span>-->
<!--                                        <span th:case="*">üåç</span>-->
<!--                                    </span>-->
<!--                            <strong th:text="${country[0] ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>-->
<!--                        </td>-->
<!--                        <td style="text-align: center;">-->
<!--                            <strong th:text="${country[1]}">45</strong>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--            <div th:if="${topCountries == null or topCountries.isEmpty()}">-->
<!--                <p style="color: gray; text-align: center;">–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö</p>-->
<!--            </div>-->
<!--            <p><a href="/analytics/countries">üìä –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö ‚Üí</a></p>-->
<!--        </td>-->

<!--        <td width="50%" valign="top">-->
<!--            &lt;!&ndash; –¢–æ–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã &ndash;&gt;-->
<!--            <h3>üìÑ –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏</h3>-->
<!--            <div th:if="${topPages != null and !topPages.isEmpty()}">-->
<!--                <table border="1" cellpadding="5" width="100%">-->
<!--                    <thead>-->
<!--                    <tr style="background-color: #f0f0f0;">-->
<!--                        <th>–ú–µ—Å—Ç–æ</th>-->
<!--                        <th>–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>-->
<!--                        <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody>-->
<!--                    <tr th:each="page, pageStat : ${topPages}">-->
<!--                        <td style="text-align: center;">-->
<!--                            <strong th:text="${pageStat.count}">1</strong>-->
<!--                        </td>-->
<!--                        <td>-->
<!--                            <code style="font-size: 0.9em;" th:text="${page[0] ?: '/'}"></code>-->
<!--                        </td>-->
<!--                        <td style="text-align: center;">-->
<!--                            <strong th:text="${page[1]}">12</strong>-->
<!--                        </td>-->
<!--                    </tr>-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--            <div th:if="${topPages == null or topPages.isEmpty()}">-->
<!--                <p style="color: gray; text-align: center;">–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö</p>-->
<!--            </div>-->
<!--        </td>-->
<!--    </tr>-->
<!--</table>-->

<!--<hr>-->

<!--&lt;!&ndash; –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ &ndash;&gt;-->
<!--<h2>üë• –û—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ</h2>-->

<!--&lt;!&ndash; –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ &ndash;&gt;-->
<!--<p>-->
<!--    <strong>–ü–æ–∫–∞–∑–∞–Ω–æ:</strong>-->
<!--    <span th:text="${#lists.size(recentVisitors)}">20</span> –∑–∞–ø–∏—Å–µ–π-->
<!--    (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ <span th:text="${currentPage + 1}">1</span> –∏–∑ <span th:text="${totalPages}">3</span>)-->
<!--    | <strong>–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏:</strong> <span th:text="${totalElements}">50</span>-->
<!--    | <a href="/analytics/visitors">üìÑ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ ‚Üí</a>-->
<!--</p>-->

<!--&lt;!&ndash; –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã &ndash;&gt;-->
<!--<p>-->
<!--    <strong>–ó–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</strong>-->
<!--    <a th:href="@{/analytics(page=0, size=10)}"-->
<!--       th:style="${pageSize == 10} ? 'font-weight: bold; color: blue;' : ''">10</a> |-->
<!--    <a th:href="@{/analytics(page=0, size=20)}"-->
<!--       th:style="${pageSize == 20} ? 'font-weight: bold; color: blue;' : ''">20</a> |-->
<!--    <a th:href="@{/analytics(page=0, size=50)}"-->
<!--       th:style="${pageSize == 50} ? 'font-weight: bold; color: blue;' : ''">50</a>-->
<!--</p>-->

<!--&lt;!&ndash; –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π &ndash;&gt;-->
<!--<div th:if="${recentVisitors != null and !recentVisitors.isEmpty()}">-->
<!--    <table border="1" cellpadding="5" width="100%">-->
<!--        <thead>-->
<!--        <tr style="background-color: #f5f5f5;">-->
<!--            <th width="15%">–í—Ä–µ–º—è</th>-->
<!--            <th width="15%">IP –ê–¥—Ä–µ—Å</th>-->
<!--            <th width="20%">–õ–æ–∫–∞—Ü–∏—è</th>-->
<!--            <th width="15%">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</th>-->
<!--            <th width="25%">–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>-->
<!--            <th width="10%">–î–µ–π—Å—Ç–≤–∏—è</th>-->
<!--        </tr>-->
<!--        </thead>-->
<!--        <tbody>-->
<!--        <tr th:each="visitor : ${recentVisitors}">-->
<!--            &lt;!&ndash; –í—Ä–µ–º—è &ndash;&gt;-->
<!--            <td>-->
<!--                <strong th:text="${#temporals.format(visitor.visitTime, 'HH:mm:ss')}">12:34:56</strong>-->
<!--                <br>-->
<!--                <small th:text="${#temporals.format(visitor.visitTime, 'dd.MM.yyyy')}">15.08.2024</small>-->
<!--            </td>-->

<!--            &lt;!&ndash; IP –∞–¥—Ä–µ—Å &ndash;&gt;-->
<!--            <td>-->
<!--                <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}">-->
<!--                    <code th:text="${visitor.ipAddress}">192.168.1.1</code>-->
<!--                </a>-->
<!--            </td>-->

<!--            &lt;!&ndash; –õ–æ–∫–∞—Ü–∏—è &ndash;&gt;-->
<!--            <td>-->
<!--                <strong th:text="${visitor.country ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>-->
<!--                <span th:if="${visitor.isBot}" style="color: red;">ü§ñ</span>-->
<!--                <br>-->
<!--                <small th:text="${visitor.city ?: '–ú—ñ—Å—Ç–æ –Ω–µ–≤—ñ–¥–æ–º–µ'}">Kyiv</small>-->
<!--            </td>-->

<!--            &lt;!&ndash; –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ &ndash;&gt;-->
<!--            <td>-->
<!--                <span th:if="${visitor.isMobile}" style="color: green;">üì± Mobile</span>-->
<!--                <span th:unless="${visitor.isMobile}" style="color: blue;">üíª Desktop</span>-->
<!--                <br>-->
<!--                <small th:text="${visitor.operatingSystem ?: 'Unknown'}">Windows</small>-->
<!--            </td>-->

<!--            &lt;!&ndash; –°—Ç—Ä–∞–Ω–∏—Ü–∞ &ndash;&gt;-->
<!--            <td>-->
<!--                <code style="font-size: 0.9em;" th:text="${visitor.requestedUrl ?: '/'}"></code>-->
<!--                <div th:if="${visitor.refererUrl}" style="margin-top: 3px;">-->
<!--                    <small style="color: gray;">-->
<!--                        –≤—ñ–¥: <span th:text="${visitor.refererUrl}"></span>-->
<!--                    </small>-->
<!--                </div>-->
<!--            </td>-->

<!--            &lt;!&ndash; –î–µ–π—Å—Ç–≤–∏—è &ndash;&gt;-->
<!--            <td style="text-align: center;">-->
<!--                <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}">üîç</a>-->
<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->

<!--&lt;!&ndash; –ù–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π &ndash;&gt;-->
<!--<div th:if="${recentVisitors == null or recentVisitors.isEmpty()}">-->
<!--    <p style="color: orange; text-align: center; font-size: 1.2em;">-->
<!--        üö´ –ü–æ–∫–∏ –Ω–µ–º–∞—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤-->
<!--    </p>-->
<!--    <p style="text-align: center;">–í –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –ø–æ–∫–∏ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–æ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤.</p>-->
<!--</div>-->

<!--&lt;!&ndash; –ü–∞–≥–∏–Ω–∞—Ü–∏—è &ndash;&gt;-->
<!--<div th:if="${totalPages > 1}">-->
<!--    <hr>-->
<!--    <h3>üìÑ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º</h3>-->
<!--    <p>-->
<!--        &lt;!&ndash; –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ &ndash;&gt;-->
<!--        <span th:if="${hasPrevious}">-->
<!--                <a th:href="@{/analytics(page=${prevPage}, size=${pageSize})}">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–µ</a>-->
<!--            </span>-->

<!--        &lt;!&ndash; –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ &ndash;&gt;-->
<!--        <strong>-->
<!--            –°—Ç—Ä–∞–Ω–∏—Ü–∞ <span th:text="${currentPage + 1}">1</span>-->
<!--            –∏–∑ <span th:text="${totalPages}">3</span>-->
<!--        </strong>-->

<!--        &lt;!&ndash; –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ &ndash;&gt;-->
<!--        <span th:if="${hasNext}">-->
<!--                <a th:href="@{/analytics(page=${nextPage}, size=${pageSize})}">–°–ª–µ–¥—É—é—â–∏–µ ‚Üí</a>-->
<!--            </span>-->
<!--    </p>-->

<!--    &lt;!&ndash; –ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü &ndash;&gt;-->
<!--    <p>-->
<!--        <strong>–ü–µ—Ä–µ–π—Ç–∏:</strong>-->
<!--        <span th:each="i : ${#numbers.sequence(0, totalPages - 1)}">-->
<!--                <a th:if="${i != currentPage}"-->
<!--                   th:href="@{/analytics(page=${i}, size=${pageSize})}"-->
<!--                   th:text="${i + 1}">1</a>-->
<!--                <strong th:if="${i == currentPage}" th:text="${i + 1}">1</strong>-->
<!--                <span> </span>-->
<!--            </span>-->
<!--    </p>-->
<!--</div>-->

<!--&lt;!&ndash; –û—à–∏–±–∫–∏ &ndash;&gt;-->
<!--<div th:if="${error}" style="color: red; border: 2px solid red; padding: 15px; margin: 10px 0; background-color: #ffe6e6;">-->
<!--    <h3>‚ùå –û—à–∏–±–∫–∞</h3>-->
<!--    <p th:text="${error}">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</p>-->
<!--</div>-->

<!--<hr>-->

<!--&lt;!&ndash; –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è &ndash;&gt;-->
<!--<h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>-->
<!--<ul>-->
<!--    <li><a href="/analytics/countries">üåç –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º</a></li>-->
<!--    <li><a href="/analytics/ip">üîç –ù–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP –∞–¥—Ä–µ—Å</a></li>-->
<!--    <li><a href="/analytics/top-ips">üë• –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤</a></li>-->
<!--    <li><a href="/analytics/visitors">üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ —Å –ø–æ–ª–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π</a></li>-->
<!--</ul>-->

<!--<hr>-->

<!--&lt;!&ndash; –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ &ndash;&gt;-->
<!--<p style="text-align: center;">-->
<!--    <small style="color: gray;">-->
<!--        üîÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ <span id="countdown">60</span> —Å–µ–∫—É–Ω–¥-->
<!--        | <button onclick="location.reload()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å</button>-->
<!--    </small>-->
<!--</p>-->

<!--<script>-->
<!--    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-->
<!--    let countdown = 60;-->
<!--    const countdownElement = document.getElementById('countdown');-->

<!--    setInterval(() => {-->
<!--        countdown&#45;&#45;;-->
<!--        countdownElement.textContent = countdown;-->

<!--        if (countdown <= 0) {-->
<!--            location.reload();-->
<!--        }-->
<!--    }, 1000);-->
<!--</script>-->

<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles -->
    <style>
        .stats-card {
            transition: transform 0.2s;
        }
        .stats-card:hover {
            transform: translateY(-2px);
        }
        .stats-number {
            font-size: 2.5rem;
            font-weight: bold;
        }
        @media (max-width: 576px) {
            .stats-number {
                font-size: 2rem;
            }
        }
        .table-responsive {
            font-size: 0.9rem;
        }
        @media (max-width: 576px) {
            .table-responsive {
                font-size: 0.8rem;
            }
        }
        .countdown-section {
            background-color: #f8f9fa;
            border-radius: 10px;
        }
    </style>
</head>
<body class="bg-light">

<div class="container-fluid py-3">
    <div class="row">
        <div class="col-12">
            <h1 class="display-6 text-center mb-4">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π</h1>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
            <nav class="navbar navbar-expand-lg navbar-light bg-white rounded shadow-sm mb-4">
                <div class="container-fluid">
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav mx-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="/analytics/countries">üåç –°—Ç—Ä–∞–Ω—ã</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/analytics/ip">üîç –ü–æ–∏—Å–∫ –ø–æ IP</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/analytics/top-ips">üë• –¢–æ–ø IP</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/analytics/visitors">üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
            <h2 class="h4 mb-3">üìà –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="row g-3 mb-4">
                <div class="col-6 col-md-3">
                    <div class="card stats-card h-100 bg-primary bg-opacity-10 border-primary">
                        <div class="card-body text-center">
                            <h5 class="card-title">üë• –í—Å–µ–≥–æ</h5>
                            <div class="stats-number text-primary" th:text="${stats.totalVisits ?: 0}">1,234</div>
                            <small class="text-muted">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</small>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="card stats-card h-100 bg-success bg-opacity-10 border-success">
                        <div class="card-body text-center">
                            <h5 class="card-title">üìÖ –ó–∞ –Ω–µ–¥–µ–ª—é</h5>
                            <div class="stats-number text-success" th:text="${stats.weeklyVisits ?: 0}">156</div>
                            <small class="text-muted">–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</small>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="card stats-card h-100 bg-warning bg-opacity-10 border-warning">
                        <div class="card-body text-center">
                            <h5 class="card-title">üì± –ú–æ–±–∏–ª—å–Ω—ã—Ö</h5>
                            <div class="stats-number text-warning" th:text="${#numbers.formatDecimal(stats.mobilePercentage ?: 0, 1, 1)} + '%'">45.2%</div>
                            <small class="text-muted">–û—Ç –≤—Å–µ—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π</small>
                        </div>
                    </div>
                </div>
                <div class="col-6 col-md-3">
                    <div class="card stats-card h-100 bg-info bg-opacity-10 border-info">
                        <div class="card-body text-center">
                            <h5 class="card-title">üïê –°–µ–≥–æ–¥–Ω—è</h5>
                            <div class="stats-number text-info" th:text="${todayVisits ?: 0}">23</div>
                            <small class="text-muted">–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö: <span th:text="${todayUnique ?: 0}">15</span></small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <div class="row g-3 mb-4">
                <!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã -->
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <h5 class="card-title mb-0">üåç –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã (–Ω–µ–¥–µ–ª—è)</h5>
                        </div>
                        <div class="card-body">
                            <div th:if="${topCountries != null and !topCountries.isEmpty()}">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-light">
                                        <tr>
                                            <th>–ú–µ—Å—Ç–æ</th>
                                            <th>–°—Ç—Ä–∞–Ω–∞</th>
                                            <th class="text-end">–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="country, countryStat : ${topCountries}">
                                            <td>
                                                <span class="badge bg-secondary" th:text="${countryStat.count}">1</span>
                                            </td>
                                            <td>
                                                    <span th:switch="${country[0]}">
                                                        <span th:case="'Ukraine'">üá∫üá¶</span>
                                                        <span th:case="'Poland'">üáµüá±</span>
                                                        <span th:case="'Germany'">üá©üá™</span>
                                                        <span th:case="'United States'">üá∫üá∏</span>
                                                        <span th:case="'Canada'">üá®üá¶</span>
                                                        <span th:case="'France'">üá´üá∑</span>
                                                        <span th:case="*">üåç</span>
                                                    </span>
                                                <span th:text="${country[0] ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</span>
                                            </td>
                                            <td class="text-end">
                                                <strong th:text="${country[1]}">45</strong>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div th:if="${topCountries == null or topCountries.isEmpty()}" class="text-center text-muted">
                                <p>–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö</p>
                            </div>
                            <div class="card-footer bg-transparent">
                                <a href="/analytics/countries" class="btn btn-outline-primary btn-sm">üìä –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Üí</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
                <div class="col-12 col-lg-6">
                    <div class="card h-100">
                        <div class="card-header">
                            <h5 class="card-title mb-0">üìÑ –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏</h5>
                        </div>
                        <div class="card-body">
                            <div th:if="${topPages != null and !topPages.isEmpty()}">
                                <div class="table-responsive">
                                    <table class="table table-hover">
                                        <thead class="table-light">
                                        <tr>
                                            <th>–ú–µ—Å—Ç–æ</th>
                                            <th>–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>
                                            <th class="text-end">–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="page, pageStat : ${topPages}">
                                            <td>
                                                <span class="badge bg-secondary" th:text="${pageStat.count}">1</span>
                                            </td>
                                            <td>
                                                <code class="text-break" th:text="${page[0] ?: '/'}"></code>
                                            </td>
                                            <td class="text-end">
                                                <strong th:text="${page[1]}">12</strong>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div th:if="${topPages == null or topPages.isEmpty()}" class="text-center text-muted">
                                <p>–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ -->
            <div class="card mb-4">
                <div class="card-header d-flex justify-content-between align-items-center flex-wrap">
                    <h5 class="card-title mb-0">üë• –û—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ</h5>
                    <div class="mt-2 mt-md-0">
                        <small class="text-muted">
                            –ü–æ–∫–∞–∑–∞–Ω–æ: <span th:text="${#lists.size(recentVisitors)}">20</span> –∑–∞–ø–∏—Å–µ–π
                            (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ <span th:text="${currentPage + 1}">1</span> –∏–∑ <span th:text="${totalPages}">3</span>)
                        </small>
                    </div>
                </div>

                <div class="card-body">
                    <!-- –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
                    <div class="mb-3">
                        <span class="me-2">–ó–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</span>
                        <div class="btn-group btn-group-sm" role="group">
                            <a th:href="@{/analytics(page=0, size=10)}"
                               th:class="${pageSize == 10} ? 'btn btn-primary' : 'btn btn-outline-primary'">10</a>
                            <a th:href="@{/analytics(page=0, size=20)}"
                               th:class="${pageSize == 20} ? 'btn btn-primary' : 'btn btn-outline-primary'">20</a>
                            <a th:href="@{/analytics(page=0, size=50)}"
                               th:class="${pageSize == 50} ? 'btn btn-primary' : 'btn btn-outline-primary'">50</a>
                        </div>
                        <a href="/analytics/visitors" class="btn btn-outline-secondary btn-sm ms-2">üìÑ –í—Å–µ –∑–∞–ø–∏—Å–∏</a>
                    </div>

                    <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
                    <div th:if="${recentVisitors != null and !recentVisitors.isEmpty()}">
                        <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (–∫–∞—Ä—Ç–æ—á–∫–∏) -->
                        <div class="d-block d-md-none">
                            <div th:each="visitor : ${recentVisitors}" class="card mb-3 border-start border-primary border-3">
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <strong th:text="${#temporals.format(visitor.visitTime, 'HH:mm:ss')}">12:34:56</strong>
                                            <br><small class="text-muted" th:text="${#temporals.format(visitor.visitTime, 'dd.MM.yyyy')}">15.08.2024</small>
                                        </div>
                                        <div class="col-6 text-end">
                                            <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}" class="btn btn-outline-primary btn-sm">
                                                üîç <span th:text="${visitor.ipAddress}">IP</span>
                                            </a>
                                        </div>
                                    </div>
                                    <hr class="my-2">
                                    <div class="row">
                                        <div class="col-6">
                                            <strong th:text="${visitor.country ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>
                                            <span th:if="${visitor.isBot}" class="text-danger">ü§ñ</span>
                                            <br><small th:text="${visitor.city ?: '–ú—ñ—Å—Ç–æ –Ω–µ–≤—ñ–¥–æ–º–µ'}">Kyiv</small>
                                        </div>
                                        <div class="col-6 text-end">
                                            <span th:if="${visitor.isMobile}" class="text-success">üì± Mobile</span>
                                            <span th:unless="${visitor.isMobile}" class="text-primary">üíª Desktop</span>
                                            <br><small th:text="${visitor.operatingSystem ?: 'Unknown'}">Windows</small>
                                        </div>
                                    </div>
                                    <hr class="my-2">
                                    <div>
                                        <code class="text-break small" th:text="${visitor.requestedUrl ?: '/'}"></code>
                                        <div th:if="${visitor.refererUrl}" class="mt-1">
                                            <small class="text-muted">
                                                –≤—ñ–¥: <span class="text-break" th:text="${visitor.refererUrl}"></span>
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –î–µ—Å–∫—Ç–æ–ø–Ω–∞—è –≤–µ—Ä—Å–∏—è (—Ç–∞–±–ª–∏—Ü–∞) -->
                        <div class="d-none d-md-block table-responsive">
                            <table class="table table-hover">
                                <thead class="table-light">
                                <tr>
                                    <th>–í—Ä–µ–º—è</th>
                                    <th>IP –ê–¥—Ä–µ—Å</th>
                                    <th>–õ–æ–∫–∞—Ü–∏—è</th>
                                    <th>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</th>
                                    <th>–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>
                                    <th class="text-center">–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr th:each="visitor : ${recentVisitors}">
                                    <td>
                                        <strong th:text="${#temporals.format(visitor.visitTime, 'HH:mm:ss')}">12:34:56</strong>
                                        <br><small class="text-muted" th:text="${#temporals.format(visitor.visitTime, 'dd.MM.yyyy')}">15.08.2024</small>
                                    </td>
                                    <td>
                                        <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}">
                                            <code th:text="${visitor.ipAddress}">192.168.1.1</code>
                                        </a>
                                    </td>
                                    <td>
                                        <strong th:text="${visitor.country ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>
                                        <span th:if="${visitor.isBot}" class="text-danger">ü§ñ</span>
                                        <br><small th:text="${visitor.city ?: '–ú—ñ—Å—Ç–æ –Ω–µ–≤—ñ–¥–æ–º–µ'}">Kyiv</small>
                                    </td>
                                    <td>
                                        <span th:if="${visitor.isMobile}" class="text-success">üì± Mobile</span>
                                        <span th:unless="${visitor.isMobile}" class="text-primary">üíª Desktop</span>
                                        <br><small th:text="${visitor.operatingSystem ?: 'Unknown'}">Windows</small>
                                    </td>
                                    <td>
                                        <code class="small text-break" th:text="${visitor.requestedUrl ?: '/'}"></code>
                                        <div th:if="${visitor.refererUrl}" class="mt-1">
                                            <small class="text-muted">
                                                –≤—ñ–¥: <span class="text-break" th:text="${visitor.refererUrl}"></span>
                                            </small>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}" class="btn btn-outline-primary btn-sm">üîç</a>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- –ù–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
                    <div th:if="${recentVisitors == null or recentVisitors.isEmpty()}" class="text-center text-warning my-4">
                        <h4>üö´ –ü–æ–∫–∏ –Ω–µ–º–∞—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤</h4>
                        <p>–í –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –ø–æ–∫–∏ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–æ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤.</p>
                    </div>

                    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                    <div th:if="${totalPages > 1}">
                        <nav aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º">
                            <ul class="pagination justify-content-center flex-wrap">
                                <li th:class="${hasPrevious} ? 'page-item' : 'page-item disabled'">
                                    <a th:if="${hasPrevious}"
                                       th:href="@{/analytics(page=${prevPage}, size=${pageSize})}"
                                       class="page-link">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–µ</a>
                                    <span th:unless="${hasPrevious}" class="page-link">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–µ</span>
                                </li>

                                <span th:each="i : ${#numbers.sequence(0, totalPages - 1)}">
                                    <li th:class="${i == currentPage} ? 'page-item active' : 'page-item'">
                                        <a th:if="${i != currentPage}"
                                           th:href="@{/analytics(page=${i}, size=${pageSize})}"
                                           class="page-link" th:text="${i + 1}">1</a>
                                        <span th:if="${i == currentPage}"
                                              class="page-link" th:text="${i + 1}">1</span>
                                    </li>
                                </span>

                                <li th:class="${hasNext} ? 'page-item' : 'page-item disabled'">
                                    <a th:if="${hasNext}"
                                       th:href="@{/analytics(page=${nextPage}, size=${pageSize})}"
                                       class="page-link">–°–ª–µ–¥—É—é—â–∏–µ ‚Üí</a>
                                    <span th:unless="${hasNext}" class="page-link">–°–ª–µ–¥—É—é—â–∏–µ ‚Üí</span>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>

            <!-- –û—à–∏–±–∫–∏ -->
            <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
                <h5 class="alert-heading">‚ùå –û—à–∏–±–∫–∞</h5>
                <p th:text="${error}" class="mb-0">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="card mb-4">
                <div class="card-header">
                    <h5 class="card-title mb-0">üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h5>
                </div>
                <div class="card-body">
                    <div class="row g-2">
                        <div class="col-6 col-md-3">
                            <a href="/analytics/countries" class="btn btn-outline-primary w-100">
                                <small>üåç –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-3">
                            <a href="/analytics/ip" class="btn btn-outline-info w-100">
                                <small>üîç –ü–æ–∏—Å–∫ IP</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-3">
                            <a href="/analytics/top-ips" class="btn btn-outline-success w-100">
                                <small>üë• –¢–æ–ø IP</small>
                            </a>
                        </div>
                        <div class="col-6 col-md-3">
                            <a href="/analytics/visitors" class="btn btn-outline-warning w-100">
                                <small>üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</small>
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ -->
            <div class="countdown-section p-3 text-center">
                <small class="text-muted">
                    üîÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ <span id="countdown" class="fw-bold">60</span> —Å–µ–∫—É–Ω–¥
                </small>
                <br>
                <button onclick="location.reload()" class="btn btn-sm btn-outline-secondary mt-2">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å</button>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

<script>
    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    let countdown = 60;
    const countdownElement = document.getElementById('countdown');

    setInterval(() => {
        countdown--;
        countdownElement.textContent = countdown;

        if (countdown <= 0) {
            location.reload();
        }
    }, 1000);
</script>

</body>
</html>