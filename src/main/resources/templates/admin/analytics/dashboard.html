<!--<!DOCTYPE html>-->
<!--<html lang="uk" xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤ - –ö—Ä–∞—ó–Ω–∞ —à–æ–∫–æ–ª–∞–¥—É</title>-->

<!--    &lt;!&ndash; Bootstrap CSS &ndash;&gt;-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">-->
<!--    &lt;!&ndash; Bootstrap Icons &ndash;&gt;-->
<!--    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css" rel="stylesheet">-->

<!--    <style>-->
<!--        .stat-card {-->
<!--            transition: transform 0.2s;-->
<!--            border-left: 4px solid #007bff;-->
<!--        }-->
<!--        .stat-card:hover {-->
<!--            transform: translateY(-2px);-->
<!--        }-->
<!--        .stat-number {-->
<!--            font-size: 2rem;-->
<!--            font-weight: bold;-->
<!--            color: #007bff;-->
<!--        }-->
<!--        .table-hover tbody tr:hover {-->
<!--            background-color: #f8f9fa;-->
<!--        }-->
<!--        .badge-country {-->
<!--            background: linear-gradient(45deg, #007bff, #28a745);-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body class="bg-light">-->
<!--<div class="container-fluid py-4">-->

<!--    &lt;!&ndash; –ó–∞–≥–æ–ª–æ–≤–æ–∫ &ndash;&gt;-->
<!--    <div class="row mb-4">-->
<!--        <div class="col">-->
<!--            <h1 class="h3 mb-0">-->
<!--                <i class="bi bi-graph-up-arrow text-primary me-2"></i>-->
<!--                –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤-->
<!--            </h1>-->
<!--            <p class="text-muted mb-0">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É</p>-->
<!--        </div>-->

<!--    </div>-->

<!--    &lt;!&ndash; –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ &ndash;&gt;-->
<!--    <div class="row mb-4">-->
<!--        &lt;!&ndash; –í—Å–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏–π &ndash;&gt;-->
<!--        <div class="col-lg-3 col-md-6 mb-3">-->
<!--            <div class="card stat-card h-100 shadow-sm">-->
<!--                <div class="card-body text-center">-->
<!--                    <i class="bi bi-people-fill text-primary mb-2" style="font-size: 2.5rem;"></i>-->
<!--&lt;!&ndash;                    <div class="stat-number" th:text="${stats.totalVisits ?: 0}">1,234</div>&ndash;&gt;-->
<!--                    <h6 class="text-muted mb-0">–í—Å—å–æ–≥–æ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å</h6>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; –ó–∞ –Ω–µ–¥–µ–ª—é &ndash;&gt;-->
<!--        <div class="col-lg-3 col-md-6 mb-3">-->
<!--            <div class="card stat-card h-100 shadow-sm">-->
<!--                <div class="card-body text-center">-->
<!--                    <i class="bi bi-calendar-week-fill text-success mb-2" style="font-size: 2.5rem;"></i>-->
<!--&lt;!&ndash;                    <div class="stat-number text-success" th:text="${stats.weeklyVisits ?: 0}">156</div>&ndash;&gt;-->
<!--                    <h6 class="text-muted mb-0">–ó–∞ —Ç–∏–∂–¥–µ–Ω—å</h6>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; –°–µ–≥–æ–¥–Ω—è &ndash;&gt;-->
<!--        <div class="col-lg-3 col-md-6 mb-3">-->
<!--            <div class="card stat-card h-100 shadow-sm">-->
<!--                <div class="card-body text-center">-->
<!--                    <i class="bi bi-calendar-day-fill text-info mb-2" style="font-size: 2.5rem;"></i>-->
<!--                    <div class="stat-number text-info" th:text="${todayVisits ?: 0}">23</div>-->
<!--                    <h6 class="text-muted mb-0">–°—å–æ–≥–æ–¥–Ω—ñ</h6>-->
<!--                    <small class="text-muted">–£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö: <span th:text="${todayUnique ?: 0}">15</span></small>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; –ú–æ–±–∏–ª—å–Ω—ã–µ &ndash;&gt;-->
<!--        <div class="col-lg-3 col-md-6 mb-3">-->
<!--            <div class="card stat-card h-100 shadow-sm">-->
<!--                <div class="card-body text-center">-->
<!--                    <i class="bi bi-phone-fill text-warning mb-2" style="font-size: 2.5rem;"></i>-->
<!--                    <div class="stat-number text-warning" th:text="${#numbers.formatDecimal(stats.mobilePercentage ?: 0, 1, 1)}">45.2</div>-->
<!--                    <h6 class="text-muted mb-0">% –º–æ–±—ñ–ª—å–Ω–∏—Ö</h6>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    <div class="row">-->
<!--        &lt;!&ndash; –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã &ndash;&gt;-->
<!--        <div class="col-lg-6 mb-4">-->
<!--            <div class="card shadow-sm">-->
<!--                <div class="card-header bg-white">-->
<!--                    <h5 class="card-title mb-0">-->
<!--                        <i class="bi bi-globe2 text-primary me-2"></i>-->
<!--                        –¢–æ–ø –∫—Ä–∞—ó–Ω–∏ (—Ç–∏–∂–¥–µ–Ω—å)-->
<!--                    </h5>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <div th:if="${topCountries != null and !topCountries.isEmpty()}">-->
<!--                        <div th:each="country, countryStat : ${topCountries}"-->
<!--                             class="d-flex justify-content-between align-items-center py-2 border-bottom">-->
<!--                            <div class="d-flex align-items-center">-->
<!--                                    <span class="me-3" style="font-size: 1.5rem;">-->
<!--                                        &lt;!&ndash; –ü—Ä–æ—Å—Ç—ã–µ —ç–º–æ–¥–∑–∏ —Ñ–ª–∞–≥–æ–≤ &ndash;&gt;-->
<!--                                        <span th:switch="${country[0]}">-->
<!--                                            <span th:case="'Ukraine'">üá∫üá¶</span>-->
<!--                                            <span th:case="'Poland'">üáµüá±</span>-->
<!--                                            <span th:case="'Germany'">üá©üá™</span>-->
<!--                                            <span th:case="'United States'">üá∫üá∏</span>-->
<!--                                            <span th:case="'Canada'">üá®üá¶</span>-->
<!--                                            <span th:case="*">üåç</span>-->
<!--                                        </span>-->
<!--                                    </span>-->
<!--                                <div>-->
<!--                                    <strong th:text="${country[0] ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>-->
<!--                                    <br>-->
<!--                                    <small class="text-muted">-->
<!--                                        –ü–æ–∑–∏—Ü—ñ—è #<span th:text="${countryStat.count}">1</span>-->
<!--                                    </small>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                            <span class="badge badge-country text-white fs-6" th:text="${country[1]} + ' –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å'">45 –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—å</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div th:if="${topCountries == null or topCountries.isEmpty()}"-->
<!--                         class="text-center py-4 text-muted">-->
<!--                        <i class="bi bi-info-circle me-2"></i>-->
<!--                        –ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; –¢–æ–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã &ndash;&gt;-->
<!--        <div class="col-lg-6 mb-4">-->
<!--            <div class="card shadow-sm">-->
<!--                <div class="card-header bg-white">-->
<!--                    <h5 class="card-title mb-0">-->
<!--                        <i class="bi bi-file-earmark-text text-primary me-2"></i>-->
<!--                        –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏-->
<!--                    </h5>-->
<!--                </div>-->
<!--                <div class="card-body">-->
<!--                    <div th:if="${topPages != null and !topPages.isEmpty()}">-->
<!--                        <div th:each="page, pageStat : ${topPages}"-->
<!--                             class="d-flex justify-content-between align-items-center py-2 border-bottom">-->
<!--                            <div class="flex-grow-1 me-3">-->
<!--                                <div class="text-truncate">-->
<!--                                    <i class="bi bi-link-45deg text-muted me-1"></i>-->
<!--                                    <code class="text-primary" th:text="${page[0] ?: '/'}"></code>-->
<!--                                </div>-->
<!--                                <small class="text-muted">-->
<!--                                    –ü–æ–∑–∏—Ü—ñ—è #<span th:text="${pageStat.count}">1</span>-->
<!--                                </small>-->
<!--                            </div>-->
<!--                            <span class="badge bg-secondary" th:text="${page[1]}">12</span>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div th:if="${topPages == null or topPages.isEmpty()}"-->
<!--                         class="text-center py-4 text-muted">-->
<!--                        <i class="bi bi-info-circle me-2"></i>-->
<!--                        –ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ &ndash;&gt;-->
<!--    <div class="row">-->
<!--        <div class="col-12">-->
<!--            <div class="card shadow-sm">-->
<!--                <div class="card-header bg-white d-flex justify-content-between align-items-center">-->
<!--                    <h5 class="card-title mb-0">-->
<!--                        <i class="bi bi-clock-history text-primary me-2"></i>-->
<!--                        –û—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ-->
<!--                    </h5>-->
<!--                    <span class="badge bg-info" th:text="${#lists.size(recentVisitors)} + ' –∑–∞–ø–∏—Å—ñ–≤'">20 –∑–∞–ø–∏—Å—ñ–≤</span>-->
<!--                </div>-->
<!--                <div class="card-body p-0">-->
<!--                    <div th:if="${recentVisitors != null and !recentVisitors.isEmpty()}">-->
<!--                        <div class="table-responsive">-->
<!--                            <table class="table table-hover mb-0">-->
<!--                                <thead class="table-light">-->
<!--                                <tr>-->
<!--                                    <th width="15%">-->
<!--                                        <i class="bi bi-clock me-1"></i>–ß–∞—Å-->
<!--                                    </th>-->
<!--                                    <th width="15%">-->
<!--                                        <i class="bi bi-router me-1"></i>IP –∞–¥—Ä–µ—Å–∞-->
<!--                                    </th>-->
<!--                                    <th width="20%">-->
<!--                                        <i class="bi bi-geo-alt me-1"></i>–õ–æ–∫–∞—Ü—ñ—è-->
<!--                                    </th>-->
<!--                                    <th width="20%">-->
<!--                                        <i class="bi bi-device-ssd me-1"></i>–ü—Ä–∏—Å—Ç—Ä—ñ–π-->
<!--                                    </th>-->
<!--                                    <th width="30%">-->
<!--                                        <i class="bi bi-link me-1"></i>–°—Ç–æ—Ä—ñ–Ω–∫–∞-->
<!--                                    </th>-->
<!--                                </tr>-->
<!--                                </thead>-->
<!--                                <tbody>-->
<!--                                <tr th:each="visitor : ${recentVisitors}">-->
<!--                                    &lt;!&ndash; –í—Ä–µ–º—è &ndash;&gt;-->
<!--                                    <td>-->
<!--                                        <div class="fw-bold" th:text="${#temporals.format(visitor.visitTime, 'HH:mm:ss')}">12:34:56</div>-->
<!--                                        <small class="text-muted" th:text="${#temporals.format(visitor.visitTime, 'dd.MM.yyyy')}">15.08.2024</small>-->
<!--                                    </td>-->

<!--                                    &lt;!&ndash; IP –∞–¥—Ä–µ—Å &ndash;&gt;-->
<!--                                    <td>-->
<!--                                        <code class="text-primary" th:text="${visitor.ipAddress}">192.168.1.1</code>-->
<!--                                    </td>-->

<!--                                    &lt;!&ndash; –õ–æ–∫–∞—Ü–∏—è &ndash;&gt;-->
<!--                                    <td>-->
<!--                                        <div>-->
<!--                                            <strong th:text="${visitor.country ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>-->
<!--                                            <span th:if="${visitor.isBot}" class="badge bg-warning ms-1">ü§ñ BOT</span>-->
<!--                                        </div>-->
<!--                                        <small class="text-muted" th:text="${visitor.city ?: '–ú—ñ—Å—Ç–æ –Ω–µ–≤—ñ–¥–æ–º–µ'}">Kyiv</small>-->
<!--                                    </td>-->

<!--                                    &lt;!&ndash; –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ &ndash;&gt;-->
<!--                                    <td>-->
<!--                                        <div>-->
<!--                                            <span th:if="${visitor.isMobile}" class="badge bg-success">üì± Mobile</span>-->
<!--                                            <span th:unless="${visitor.isMobile}" class="badge bg-primary">üíª Desktop</span>-->
<!--                                        </div>-->
<!--                                        <small class="text-muted">-->
<!--                                            <span th:text="${visitor.operatingSystem ?: 'Unknown OS'}">Windows</span>-->
<!--                                            <span th:if="${visitor.browserName}"> ‚Ä¢ <span th:text="${visitor.browserName}">Chrome</span></span>-->
<!--                                        </small>-->
<!--                                    </td>-->

<!--                                    &lt;!&ndash; –°—Ç—Ä–∞–Ω–∏—Ü–∞ &ndash;&gt;-->
<!--                                    <td>-->
<!--                                        <div class="text-truncate">-->
<!--                                            <code class="text-primary" th:text="${visitor.requestedUrl ?: '/'}"></code>-->
<!--                                        </div>-->
<!--                                        <small class="text-muted" th:if="${visitor.refererUrl}">-->
<!--                                            –≤—ñ–¥: <span th:text="${visitor.refererUrl}"></span>-->
<!--                                        </small>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                                </tbody>-->
<!--                            </table>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div th:if="${recentVisitors == null or recentVisitors.isEmpty()}"-->
<!--                         class="text-center py-5 text-muted">-->
<!--                        <i class="bi bi-info-circle me-2" style="font-size: 2rem;"></i>-->
<!--                        <div class="mt-2">–ü–æ–∫–∏ –Ω–µ–º–∞—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤</div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; –û—à–∏–±–∫–∏ &ndash;&gt;-->
<!--    <div th:if="${error}" class="alert alert-danger mt-4">-->
<!--        <i class="bi bi-exclamation-triangle-fill me-2"></i>-->
<!--        <strong>–ü–æ–º–∏–ª–∫–∞:</strong> <span th:text="${error}">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</span>-->
<!--    </div>-->

<!--    &lt;!&ndash; –§—É—Ç–µ—Ä —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º &ndash;&gt;-->
<!--    <div class="row mt-5">-->
<!--        <div class="col text-center">-->
<!--            <small class="text-muted">-->
<!--                <i class="bi bi-arrow-clockwise me-1"></i>-->
<!--                –û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è: <span id="lastUpdate"></span>-->
<!--                <button class="btn btn-sm btn-outline-secondary ms-2" onclick="location.reload()">-->
<!--                    <i class="bi bi-arrow-clockwise"></i> –û–Ω–æ–≤–∏—Ç–∏-->
<!--                </button>-->
<!--            </small>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; Bootstrap JS &ndash;&gt;-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>-->

<!--<script>-->
<!--    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è-->
<!--    document.getElementById('lastUpdate').textContent = new Date().toLocaleString('uk-UA');-->

<!--    // –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥-->
<!--    setInterval(function() {-->
<!--        location.reload();-->
<!--    }, 60000);-->

<!--    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≥—Ä—É–∑–∫–µ-->
<!--    console.log('üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∞ —É—Å–ø—ñ—à–Ω–æ');-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
</head>
<body>

<h1>üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π</h1>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<p>
    <a href="/analytics/countries">üåç –°—Ç—Ä–∞–Ω—ã</a> |
    <a href="/analytics/ip">üîç –ü–æ–∏—Å–∫ –ø–æ IP</a> |
    <a href="/analytics/top-ips">üë• –¢–æ–ø IP</a> |
    <a href="/analytics/visitors">üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏</a>
</p>

<hr>

<!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<h2>üìà –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
<table border="2" cellpadding="10" width="100%">
    <tr>
        <td style="text-align: center; background-color: #e3f2fd;">
            <h3>üë• –í—Å–µ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏–π</h3>
            <strong style="font-size: 2em; color: #1976d2;" th:text="${stats.totalVisits ?: 0}">1,234</strong>
            <br><small>–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</small>
        </td>
        <td style="text-align: center; background-color: #e8f5e8;">
            <h3>üìÖ –ó–∞ –Ω–µ–¥–µ–ª—é</h3>
            <strong style="font-size: 2em; color: #388e3c;" th:text="${stats.weeklyVisits ?: 0}">156</strong>
            <br><small>–ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π</small>
        </td>
        <td style="text-align: center; background-color: #fff3e0;">
            <h3>üì± –ú–æ–±–∏–ª—å–Ω—ã—Ö</h3>
            <strong style="font-size: 2em; color: #f57c00;" th:text="${#numbers.formatDecimal(stats.mobilePercentage ?: 0, 1, 1)} + '%'">45.2%</strong>
            <br><small>–û—Ç –≤—Å–µ—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π</small>
        </td>
        <td style="text-align: center; background-color: #f3e5f5;">
            <h3>üïê –°–µ–≥–æ–¥–Ω—è</h3>
            <strong style="font-size: 2em; color: #7b1fa2;" th:text="${todayVisits ?: 0}">23</strong>
            <br><small>–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö: <span th:text="${todayUnique ?: 0}">15</span></small>
        </td>
    </tr>
</table>

<hr>

<!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã –∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
<table width="100%">
    <tr>
        <td width="50%" valign="top">
            <!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã -->
            <h3>üåç –¢–æ–ø —Å—Ç—Ä–∞–Ω—ã (–Ω–µ–¥–µ–ª—è)</h3>
            <div th:if="${topCountries != null and !topCountries.isEmpty()}">
                <table border="1" cellpadding="5" width="100%">
                    <thead>
                    <tr style="background-color: #f0f0f0;">
                        <th>–ú–µ—Å—Ç–æ</th>
                        <th>–°—Ç—Ä–∞–Ω–∞</th>
                        <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="country, countryStat : ${topCountries}">
                        <td style="text-align: center;">
                            <strong th:text="${countryStat.count}">1</strong>
                        </td>
                        <td>
                                    <span th:switch="${country[0]}">
                                        <span th:case="'Ukraine'">üá∫üá¶</span>
                                        <span th:case="'Poland'">üáµüá±</span>
                                        <span th:case="'Germany'">üá©üá™</span>
                                        <span th:case="'United States'">üá∫üá∏</span>
                                        <span th:case="'Canada'">üá®üá¶</span>
                                        <span th:case="'France'">üá´üá∑</span>
                                        <span th:case="*">üåç</span>
                                    </span>
                            <strong th:text="${country[0] ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>
                        </td>
                        <td style="text-align: center;">
                            <strong th:text="${country[1]}">45</strong>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div th:if="${topCountries == null or topCountries.isEmpty()}">
                <p style="color: gray; text-align: center;">–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö</p>
            </div>
            <p><a href="/analytics/countries">üìä –î–µ—Ç–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫—Ä–∞—ó–Ω–∞—Ö ‚Üí</a></p>
        </td>

        <td width="50%" valign="top">
            <!-- –¢–æ–ø —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
            <h3>üìÑ –ü–æ–ø—É–ª—è—Ä–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏</h3>
            <div th:if="${topPages != null and !topPages.isEmpty()}">
                <table border="1" cellpadding="5" width="100%">
                    <thead>
                    <tr style="background-color: #f0f0f0;">
                        <th>–ú–µ—Å—Ç–æ</th>
                        <th>–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>
                        <th>–ü–æ—Å–µ—â–µ–Ω–∏–π</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="page, pageStat : ${topPages}">
                        <td style="text-align: center;">
                            <strong th:text="${pageStat.count}">1</strong>
                        </td>
                        <td>
                            <code style="font-size: 0.9em;" th:text="${page[0] ?: '/'}"></code>
                        </td>
                        <td style="text-align: center;">
                            <strong th:text="${page[1]}">12</strong>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div th:if="${topPages == null or topPages.isEmpty()}">
                <p style="color: gray; text-align: center;">–ü–æ–∫–∏ –Ω–µ–º–∞—î –¥–∞–Ω–∏—Ö –ø–æ —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö</p>
            </div>
        </td>
    </tr>
</table>

<hr>

<!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ -->
<h2>üë• –û—Å—Ç–∞–Ω–Ω—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ</h2>

<!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ -->
<p>
    <strong>–ü–æ–∫–∞–∑–∞–Ω–æ:</strong>
    <span th:text="${#lists.size(recentVisitors)}">20</span> –∑–∞–ø–∏—Å–µ–π
    (—Å—Ç—Ä–∞–Ω–∏—Ü–∞ <span th:text="${currentPage + 1}">1</span> –∏–∑ <span th:text="${totalPages}">3</span>)
    | <strong>–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–∏:</strong> <span th:text="${totalElements}">50</span>
    | <a href="/analytics/visitors">üìÑ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ ‚Üí</a>
</p>

<!-- –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
<p>
    <strong>–ó–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:</strong>
    <a th:href="@{/analytics(page=0, size=10)}"
       th:style="${pageSize == 10} ? 'font-weight: bold; color: blue;' : ''">10</a> |
    <a th:href="@{/analytics(page=0, size=20)}"
       th:style="${pageSize == 20} ? 'font-weight: bold; color: blue;' : ''">20</a> |
    <a th:href="@{/analytics(page=0, size=50)}"
       th:style="${pageSize == 50} ? 'font-weight: bold; color: blue;' : ''">50</a>
</p>

<!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
<div th:if="${recentVisitors != null and !recentVisitors.isEmpty()}">
    <table border="1" cellpadding="5" width="100%">
        <thead>
        <tr style="background-color: #f5f5f5;">
            <th width="15%">–í—Ä–µ–º—è</th>
            <th width="15%">IP –ê–¥—Ä–µ—Å</th>
            <th width="20%">–õ–æ–∫–∞—Ü–∏—è</th>
            <th width="15%">–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</th>
            <th width="25%">–°—Ç—Ä–∞–Ω–∏—Ü–∞</th>
            <th width="10%">–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="visitor : ${recentVisitors}">
            <!-- –í—Ä–µ–º—è -->
            <td>
                <strong th:text="${#temporals.format(visitor.visitTime, 'HH:mm:ss')}">12:34:56</strong>
                <br>
                <small th:text="${#temporals.format(visitor.visitTime, 'dd.MM.yyyy')}">15.08.2024</small>
            </td>

            <!-- IP –∞–¥—Ä–µ—Å -->
            <td>
                <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}">
                    <code th:text="${visitor.ipAddress}">192.168.1.1</code>
                </a>
            </td>

            <!-- –õ–æ–∫–∞—Ü–∏—è -->
            <td>
                <strong th:text="${visitor.country ?: '–ù–µ–≤—ñ–¥–æ–º–æ'}">Ukraine</strong>
                <span th:if="${visitor.isBot}" style="color: red;">ü§ñ</span>
                <br>
                <small th:text="${visitor.city ?: '–ú—ñ—Å—Ç–æ –Ω–µ–≤—ñ–¥–æ–º–µ'}">Kyiv</small>
            </td>

            <!-- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ -->
            <td>
                <span th:if="${visitor.isMobile}" style="color: green;">üì± Mobile</span>
                <span th:unless="${visitor.isMobile}" style="color: blue;">üíª Desktop</span>
                <br>
                <small th:text="${visitor.operatingSystem ?: 'Unknown'}">Windows</small>
            </td>

            <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ -->
            <td>
                <code style="font-size: 0.9em;" th:text="${visitor.requestedUrl ?: '/'}"></code>
                <div th:if="${visitor.refererUrl}" style="margin-top: 3px;">
                    <small style="color: gray;">
                        –≤—ñ–¥: <span th:text="${visitor.refererUrl}"></span>
                    </small>
                </div>
            </td>

            <!-- –î–µ–π—Å—Ç–≤–∏—è -->
            <td style="text-align: center;">
                <a th:href="@{/analytics/ip(ip=${visitor.ipAddress})}">üîç</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<!-- –ù–µ—Ç –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–µ–π -->
<div th:if="${recentVisitors == null or recentVisitors.isEmpty()}">
    <p style="color: orange; text-align: center; font-size: 1.2em;">
        üö´ –ü–æ–∫–∏ –Ω–µ–º–∞—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤
    </p>
    <p style="text-align: center;">–í –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –ø–æ–∫–∏ –Ω–µ–º–∞—î –∑–∞–ø–∏—Å—ñ–≤ –ø—Ä–æ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ–≤.</p>
</div>

<!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
<div th:if="${totalPages > 1}">
    <hr>
    <h3>üìÑ –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º</h3>
    <p>
        <!-- –ü—Ä–µ–¥—ã–¥—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <span th:if="${hasPrevious}">
                <a th:href="@{/analytics(page=${prevPage}, size=${pageSize})}">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∏–µ</a>
            </span>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∞–Ω–∏—Ü–µ -->
        <strong>
            –°—Ç—Ä–∞–Ω–∏—Ü–∞ <span th:text="${currentPage + 1}">1</span>
            –∏–∑ <span th:text="${totalPages}">3</span>
        </strong>

        <!-- –°–ª–µ–¥—É—é—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
        <span th:if="${hasNext}">
                <a th:href="@{/analytics(page=${nextPage}, size=${pageSize})}">–°–ª–µ–¥—É—é—â–∏–µ ‚Üí</a>
            </span>
    </p>

    <!-- –ü–æ–∫–∞–∑–∞—Ç—å –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–∞–Ω–∏—Ü -->
    <p>
        <strong>–ü–µ—Ä–µ–π—Ç–∏:</strong>
        <span th:each="i : ${#numbers.sequence(0, totalPages - 1)}">
                <a th:if="${i != currentPage}"
                   th:href="@{/analytics(page=${i}, size=${pageSize})}"
                   th:text="${i + 1}">1</a>
                <strong th:if="${i == currentPage}" th:text="${i + 1}">1</strong>
                <span> </span>
            </span>
    </p>
</div>

<!-- –û—à–∏–±–∫–∏ -->
<div th:if="${error}" style="color: red; border: 2px solid red; padding: 15px; margin: 10px 0; background-color: #ffe6e6;">
    <h3>‚ùå –û—à–∏–±–∫–∞</h3>
    <p th:text="${error}">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏</p>
</div>

<hr>

<!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
<h3>üöÄ –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
<ul>
    <li><a href="/analytics/countries">üåç –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç—Ä–∞–Ω–∞–º</a></li>
    <li><a href="/analytics/ip">üîç –ù–∞–π—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP –∞–¥—Ä–µ—Å</a></li>
    <li><a href="/analytics/top-ips">üë• –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤</a></li>
    <li><a href="/analytics/visitors">üìÑ –í—Å–µ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª–∏ —Å –ø–æ–ª–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π</a></li>
</ul>

<hr>

<!-- –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ -->
<p style="text-align: center;">
    <small style="color: gray;">
        üîÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ <span id="countdown">60</span> —Å–µ–∫—É–Ω–¥
        | <button onclick="location.reload()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–π—á–∞—Å</button>
    </small>
</p>

<script>
    // –û–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –∏ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    let countdown = 60;
    const countdownElement = document.getElementById('countdown');

    setInterval(() => {
        countdown--;
        countdownElement.textContent = countdown;

        if (countdown <= 0) {
            location.reload();
        }
    }, 1000);
</script>

</body>
</html>