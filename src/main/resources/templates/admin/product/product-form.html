<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>
<body class="bg-light">

<div class="container py-4">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex align-items-center">
                <i class="bi bi-box-seam text-primary me-3" style="font-size: 2rem;"></i>
                <h1 class="mb-0"
                    th:text="${isEdit != null and isEdit} ? '–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É' : '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É'"></h1>
            </div>
        </div>
    </div>

    <!-- Flash –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è -->
    <div th:if="${successMessage}" class="alert alert-success alert-dismissible fade show" role="alert">
        <i class="bi bi-check-circle me-2"></i>
        <span th:text="${successMessage}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <div th:if="${errorMessage}" class="alert alert-danger alert-dismissible fade show" role="alert">
        <i class="bi bi-exclamation-triangle me-2"></i>
        <span th:text="${errorMessage}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>

    <!-- –§–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É -->
    <form id="productForm"
          th:action="@{/admin/product}"
          th:object="${product}"
          method="post">

        <div class="row g-4">
            <!-- –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-info-circle me-2"></i>–û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- –ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É -->
                        <div class="mb-3">
                            <label for="name" class="form-label fw-bold">
                                <i class="bi bi-tag me-1"></i>–ù–∞–∑–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—É *
                            </label>
                            <input type="text" id="name" th:field="*{name}"
                                   class="form-control"
                                   th:classappend="${#fields.hasErrors('name')} ? 'is-invalid' : ''"
                                   placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –ø—Ä–æ–¥—É–∫—Ç—É">
                            <div th:if="${#fields.hasErrors('name')}" class="invalid-feedback">
                                <ul class="mb-0 list-unstyled">
                                    <li th:each="error : ${#fields.errors('name')}" th:text="${error}"></li>
                                </ul>
                            </div>
                        </div>

                        <!-- –¶—ñ–Ω–∞ -->
                        <div class="mb-3">
                            <label for="price" class="form-label fw-bold">
                                <i class="bi bi-currency-exchange me-1"></i>–¶—ñ–Ω–∞ (–≥—Ä–Ω.) *
                            </label>
                            <div class="input-group">
                                <input type="number" id="price" th:field="*{price}"
                                       step="0.01" min="0.01"
                                       class="form-control"
                                       th:classappend="${#fields.hasErrors('price')} ? 'is-invalid' : ''"
                                       placeholder="0.00">
                                <span class="input-group-text">‚Ç¥</span>
                                <div th:if="${#fields.hasErrors('price')}" class="invalid-feedback">
                                    <ul class="mb-0 list-unstyled">
                                        <li th:each="error : ${#fields.errors('price')}" th:text="${error}"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- üÜï –û–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —Ü—ñ–Ω–∏ -->
                        <div class="mb-3">
                            <label for="priceUnit" class="form-label fw-bold">
                                <i class="bi bi-rulers me-1"></i>–û–¥–∏–Ω–∏—Ü—è –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è *
                            </label>
                            <select id="priceUnit" th:field="*{priceUnit}"
                                    class="form-select"
                                    th:classappend="${#fields.hasErrors('priceUnit')} ? 'is-invalid' : ''">
                                <option th:each="unit : ${priceUnits}"
                                        th:value="${unit}"
                                        th:text="${unit.label}">
                                </option>
                            </select>
                            <div class="form-text">
                                <i class="bi bi-info-circle me-1"></i>
                                –û–±–µ—Ä—ñ—Ç—å –æ–¥–∏–Ω–∏—Ü—é –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è –¥–ª—è —Ü—ñ–Ω–∏ —Ç–æ–≤–∞—Ä—É
                            </div>
                            <div th:if="${#fields.hasErrors('priceUnit')}" class="invalid-feedback">
                                <ul class="mb-0 list-unstyled">
                                    <li th:each="error : ${#fields.errors('priceUnit')}" th:text="${error}"></li>
                                </ul>
                            </div>
                        </div>

                        <!-- –ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ -->
                        <div class="mb-3">
                            <label for="stockQuantity" class="form-label fw-bold">
                                <i class="bi bi-boxes me-1"></i>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–∞ —Å–∫–ª–∞–¥—ñ *
                            </label>
                            <input type="number" id="stockQuantity" th:field="*{stockQuantity}"
                                   min="0" step="1"
                                   class="form-control"
                                   th:classappend="${#fields.hasErrors('stockQuantity')} ? 'is-invalid' : ''"
                                   placeholder="0">
                            <div th:if="${#fields.hasErrors('stockQuantity')}" class="invalid-feedback">
                                <ul class="mb-0 list-unstyled">
                                    <li th:each="error : ${#fields.errors('stockQuantity')}" th:text="${error}"></li>
                                </ul>
                            </div>
                        </div>

                        <!-- –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä -->
                        <div class="mb-3">
                            <div class="form-check form-switch">
                                <input type="checkbox" id="isRecommendation" th:field="*{isRecommendation}"
                                       class="form-check-input" role="switch">
                                <label for="isRecommendation" class="form-check-label fw-bold text-primary">
                                    <i class="bi bi-star me-1"></i>–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∏–π —Ç–æ–≤–∞—Ä
                                </label>
                            </div>
                            <div class="form-text">
                                <i class="bi bi-info-circle me-1"></i>
                                –í—ñ–¥–º—ñ—á–µ–Ω—ñ —Ç–æ–≤–∞—Ä–∏ –±—É–¥—É—Ç—å –ø–æ–∫–∞–∑–∞–Ω—ñ –≤ —Ä–æ–∑–¥—ñ–ª—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ–π –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è -->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-collection me-2"></i>–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –º–µ–¥—ñ–∞
                        </h5>
                    </div>
                    <div class="card-body">
                        <!-- –ö–∞—Ç–µ–≥–æ—Ä—ñ—è -->
                        <div class="mb-3">
                            <label for="categoryId" class="form-label fw-bold">
                                <i class="bi bi-folder me-1"></i>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è *
                            </label>
                            <select id="categoryId" th:field="*{categoryId}"
                                    class="form-select"
                                    th:classappend="${#fields.hasErrors('categoryId')} ? 'is-invalid' : ''">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é</option>
                                <option th:each="category : ${categories}"
                                        th:value="${category.id}"
                                        th:text="${category.name}"></option>
                            </select>
                            <div th:if="${#fields.hasErrors('categoryId')}" class="invalid-feedback">
                                <ul class="mb-0 list-unstyled">
                                    <li th:each="error : ${#fields.errors('categoryId')}" th:text="${error}"></li>
                                </ul>
                            </div>
                        </div>

                        <!-- –ë—Ä–µ–Ω–¥ -->
                        <div class="mb-3">
                            <label for="brandId" class="form-label fw-bold">
                                <i class="bi bi-award me-1"></i>–ë—Ä–µ–Ω–¥ *
                            </label>
                            <select id="brandId" th:field="*{brandId}"
                                    class="form-select"
                                    th:classappend="${#fields.hasErrors('brandId')} ? 'is-invalid' : ''">
                                <option value="">–û–±–µ—Ä—ñ—Ç—å –±—Ä–µ–Ω–¥</option>
                                <option th:each="brand : ${brands}"
                                        th:value="${brand.id}"
                                        th:text="${brand.name}"></option>
                            </select>
                            <div th:if="${#fields.hasErrors('brandId')}" class="invalid-feedback">
                                <ul class="mb-0 list-unstyled">
                                    <li th:each="error : ${#fields.errors('brandId')}" th:text="${error}"></li>
                                </ul>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>


        <!-- SEO —Å–µ–∫—Ü—ñ—è -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card border-warning">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">
                            <i class="bi bi-search me-2"></i>SEO –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="alert alert-info" role="alert">
                            <i class="bi bi-lightbulb me-2"></i>
                            <strong>–ü–æ—Ä–∞–¥–∞:</strong> –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ü—ñ –ø–æ–ª—è –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–∞–Ω–∂—É–≤–∞–Ω–Ω—è —Ç–æ–≤–∞—Ä—É –≤ –ø–æ—à—É–∫–æ–≤–∏—Ö
                            —Å–∏—Å—Ç–µ–º–∞—Ö
                        </div>

                        <div class="row g-3">
                            <!-- Meta Title -->
                            <div class="col-md-6">
                                <label for="metaTitle" class="form-label fw-bold">
                                    <i class="bi bi-card-heading me-1"></i>SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫ (Meta Title)
                                </label>
                                <input type="text" id="metaTitle" th:field="*{metaTitle}"
                                       class="form-control"
                                       th:classappend="${#fields.hasErrors('metaTitle')} ? 'is-invalid' : ''"
                                       placeholder="–®–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏–π —Ç–µ–º–Ω–∏–π —à–æ–∫–æ–ª–∞–¥ 85% - –ö—Ä–∞—ó–Ω–∞ —à–æ–∫–æ–ª–∞–¥—É"
                                       maxlength="60">
                                <div class="form-text">
                                    <span id="metaTitleCounter" class="badge bg-secondary">0</span>/60 —Å–∏–º–≤–æ–ª—ñ–≤
                                    <span class="text-muted ms-2">–û–ø—Ç–∏–º–∞–ª—å–Ω–æ: 50-60 —Å–∏–º–≤–æ–ª—ñ–≤</span>
                                </div>
                                <div th:if="${#fields.hasErrors('metaTitle')}" class="invalid-feedback">
                                    <ul class="mb-0 list-unstyled">
                                        <li th:each="error : ${#fields.errors('metaTitle')}" th:text="${error}"></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Meta Description -->
                            <div class="col-md-6">
                                <label for="metaDescription" class="form-label fw-bold">
                                    <i class="bi bi-card-text me-1"></i>SEO –æ–ø–∏—Å (Meta Description)
                                </label>
                                <textarea id="metaDescription" th:field="*{metaDescription}"
                                          class="form-control"
                                          th:classappend="${#fields.hasErrors('metaDescription')} ? 'is-invalid' : ''"
                                          rows="3" maxlength="160"
                                          placeholder="–ï–ª—ñ—Ç–Ω–∏–π —à–≤–µ–π—Ü–∞—Ä—Å—å–∫–∏–π —Ç–µ–º–Ω–∏–π —à–æ–∫–æ–ª–∞–¥ 85% –∫–∞–∫–∞–æ. –ü—Ä–µ–º—ñ—É–º —è–∫—ñ—Å—Ç—å, –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏..."></textarea>
                                <div class="form-text">
                                    <span id="metaDescCounter" class="badge bg-secondary">0</span>/160 —Å–∏–º–≤–æ–ª—ñ–≤
                                    <span class="text-muted ms-2">–û–ø—Ç–∏–º–∞–ª—å–Ω–æ: 140-160 —Å–∏–º–≤–æ–ª—ñ–≤</span>
                                </div>
                                <div th:if="${#fields.hasErrors('metaDescription')}" class="invalid-feedback">
                                    <ul class="mb-0 list-unstyled">
                                        <li th:each="error : ${#fields.errors('metaDescription')}"
                                            th:text="${error}"></li>
                                    </ul>
                                </div>
                            </div>

                            <!-- –ü–æ–≤–Ω–∏–π –æ–ø–∏—Å -->
                            <div class="col-12">
                                <label for="description" class="form-label fw-bold">
                                    <i class="bi bi-file-text me-1"></i>–ü–æ–≤–Ω–∏–π –æ–ø–∏—Å —Ç–æ–≤–∞—Ä—É
                                </label>
                                <textarea id="description" th:field="*{description}"
                                          class="form-control"
                                          th:classappend="${#fields.hasErrors('description')} ? 'is-invalid' : ''"
                                          rows="5" maxlength="1000"
                                          placeholder="–î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å —Ç–æ–≤–∞—Ä—É –¥–ª—è –ø–æ–∫—É–ø—Ü—ñ–≤. –í–∫–∞–∂—ñ—Ç—å —Å–∫–ª–∞–¥, –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ, —Å–ø–æ—Å—ñ–± –≤–∂–∏–≤–∞–Ω–Ω—è..."></textarea>
                                <div class="form-text">
                                    <span id="descCounter" class="badge bg-secondary">0</span>/1000 —Å–∏–º–≤–æ–ª—ñ–≤
                                    <span class="text-muted ms-2">–ß–∏–º –¥–µ—Ç–∞–ª—å–Ω—ñ—à–∏–π –æ–ø–∏—Å, —Ç–∏–º –∫—Ä–∞—â–µ –¥–ª—è SEO</span>
                                </div>
                                <div th:if="${#fields.hasErrors('description')}" class="invalid-feedback">
                                    <ul class="mb-0 list-unstyled">
                                        <li th:each="error : ${#fields.errors('description')}" th:text="${error}"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- SEO –ø–æ—Ä–∞–¥–∏ -->
                        <div class="alert alert-primary mt-3" role="alert">
                            <h6 class="alert-heading">
                                <i class="bi bi-lightbulb-fill me-2"></i>SEO –ø–æ—Ä–∞–¥–∏:
                            </h6>
                            <ul class="mb-0 small">
                                <li>–í–∫–ª—é—á—ñ—Ç—å –Ω–∞–∑–≤—É —Ç–æ–≤–∞—Ä—É —Ç–∞ –∫–ª—é—á–æ–≤—ñ —Å–ª–æ–≤–∞ –≤ SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫</li>
                                <li>–î–æ–¥–∞–π—Ç–µ "–ö—Ä–∞—ó–Ω–∞ —à–æ–∫–æ–ª–∞–¥—É", "–ö–∏—ó–≤", "–∫—É–ø–∏—Ç–∏" –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ SEO</li>
                                <li>–í–∫–∞–∂—ñ—Ç—å —Ü—ñ–Ω—É –≤ –æ–ø–∏—Å—ñ - –ª—é–¥–∏ —á–∞—Å—Ç–æ —à—É–∫–∞—é—Ç—å "—Ü—ñ–Ω–∞" + —Ç–æ–≤–∞—Ä</li>
                                <li>–ó–≥–∞–¥–∞–π—Ç–µ –±—Ä–µ–Ω–¥, —Å–∫–ª–∞–¥, –∫—Ä–∞—ó–Ω—É –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è</li>
                                <li>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –µ–º–æ—Ü—ñ–π–Ω—ñ —Å–ª–æ–≤–∞: "—Å–º–∞—á–Ω–∏–π", "–Ω–∞—Ç—É—Ä–∞–ª—å–Ω–∏–π", "–µ–ª—ñ—Ç–Ω–∏–π"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ –¥—ñ–π -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary btn-lg">
                                <i class="bi bi-check-lg me-2"></i>
                                <span th:text="${isEdit != null and isEdit} ? '–û–Ω–æ–≤–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç' : '–°—Ç–≤–æ—Ä–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç'"></span>
                            </button>
                            <a th:href="@{/admin/product/list}" class="btn btn-secondary btn-lg">
                                <i class="bi bi-arrow-left me-2"></i>
                                –°–∫–∞—Å—É–≤–∞—Ç–∏
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">
                        <i class="bi bi-compass me-2"></i>–ù–∞–≤—ñ–≥–∞—Ü—ñ—è
                    </h5>
                </div>
                <div class="card-body">
                    <div class="row g-2">
                        <div class="col-md-4">
                            <a th:href="@{/admin/product}" class="btn btn-outline-primary w-100">
                                <i class="bi bi-plus-circle me-2"></i>–°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –ø—Ä–æ–¥—É–∫—Ç
                            </a>
                        </div>
                        <div class="col-md-4">
                            <a th:href="@{/admin/product/list}" class="btn btn-outline-info w-100">
                                <i class="bi bi-list me-2"></i>–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
                            </a>
                        </div>
                        <div class="col-md-4">
                            <a th:href="@{/admin/product/statistics}" class="btn btn-outline-success w-100">
                                <i class="bi bi-graph-up me-2"></i>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
                            </a>
                        </div>
                    </div>
                    <div class="row g-2 mt-2">
                        <div class="col-md-6">
                            <a th:href="@{/admin/category/list}" class="btn btn-outline-warning w-100">
                                <i class="bi bi-folder me-2"></i>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
                            </a>
                        </div>
                        <div class="col-md-6">
                            <a th:href="@{/admin/brand/list}" class="btn btn-outline-danger w-100">
                                <i class="bi bi-award me-2"></i>–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—Ä–µ–Ω–¥–∞–º–∏
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è -->
    <div th:if="${categories.empty or brands.empty}" class="row mt-4">
        <div class="col-12">
            <div class="alert alert-warning" role="alert">
                <h5 class="alert-heading">
                    <i class="bi bi-exclamation-triangle me-2"></i>–£–≤–∞–≥–∞!
                </h5>
                <div th:if="${categories.empty}" class="mb-2">
                    <p class="mb-1">–£ –≤–∞—Å –Ω–µ–º–∞—î –∫–∞—Ç–µ–≥–æ—Ä—ñ–π.</p>
                    <a th:href="@{/admin/category}" class="btn btn-sm btn-warning">
                        <i class="bi bi-plus me-1"></i>–°—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
                    </a>
                </div>
                <div th:if="${brands.empty}">
                    <p class="mb-1">–£ –≤–∞—Å –Ω–µ–º–∞—î –±—Ä–µ–Ω–¥—ñ–≤.</p>
                    <a th:href="@{/admin/brand}" class="btn btn-sm btn-warning">
                        <i class="bi bi-plus me-1"></i>–°—Ç–≤–æ—Ä–∏—Ç–∏ –±—Ä–µ–Ω–¥
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        // –§—É–Ω–∫—Ü—ñ—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞
        function createCounter(inputId, counterId, maxLength, optimalMin = 0) {
            const input = document.getElementById(inputId);
            const counter = document.getElementById(counterId);

            if (!input || !counter) return;

            function updateCounter() {
                const length = input.value.length;
                counter.textContent = length;

                // –ö–æ–ª—å–æ—Ä–æ–≤–∞ —ñ–Ω–¥–∏–∫–∞—Ü—ñ—è
                counter.className = 'badge ';
                if (length > maxLength) {
                    counter.className += 'bg-danger';
                } else if (length >= optimalMin) {
                    counter.className += 'bg-success';
                } else if (length > 0) {
                    counter.className += 'bg-warning';
                } else {
                    counter.className += 'bg-secondary';
                }
            }

            input.addEventListener('input', updateCounter);
            updateCounter(); // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
        }

        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤
        createCounter('metaTitle', 'metaTitleCounter', 60, 50);
        createCounter('metaDescription', 'metaDescCounter', 160, 140);
        createCounter('description', 'descCounter', 1000, 100);

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        handleImageChange();
    });

    // –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
    function handleImageChange() {
        const imageInput = document.getElementById('imageInput');
        const removeCheckbox = document.getElementById('removeCurrentImage');
        const alert = document.getElementById('imageChangeAlert');

        if (!alert) return;

        if (imageInput && imageInput.files && imageInput.files.length > 0) {
            alert.classList.remove('d-none');
            document.getElementById('imageChangeText').textContent = '–ë—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–æ –Ω–æ–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ';
        } else if (removeCheckbox && removeCheckbox.checked) {
            alert.classList.remove('d-none');
            document.getElementById('imageChangeText').textContent = '–¢–µ–∫—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ';
        } else {
            alert.classList.add('d-none');
        }
    }
</script>

</body>
</html>