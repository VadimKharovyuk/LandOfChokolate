<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</title>-->
<!--</head>-->
<!--<body>-->
<!--<h1>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</h1>-->

<!--&lt;!&ndash; Flash —Å–æ–æ–±—â–µ–Ω–∏—è &ndash;&gt;-->
<!--<div th:if="${errorMessage}" style="color: red; border: 1px solid red; padding: 10px; margin: 10px 0;">-->
<!--    <span th:text="${errorMessage}"></span>-->
<!--</div>-->

<!--&lt;!&ndash; –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ &ndash;&gt;-->
<!--<div th:if="${statistics != null}" style="margin: 20px 0;">-->

<!--    &lt;!&ndash; –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ &ndash;&gt;-->
<!--    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">-->

<!--        &lt;!&ndash; –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ &ndash;&gt;-->
<!--        <div style="background-color: #007bff; color: white; padding: 20px; border-radius: 8px; text-align: center;">-->
<!--            <h3 style="margin: 0; font-size: 2em;" th:text="${statistics.totalProducts}"></h3>-->
<!--            <p style="margin: 5px 0 0 0;">–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</p>-->
<!--        </div>-->

<!--        &lt;!&ndash; –í –Ω–∞–ª–∏—á–∏–∏ &ndash;&gt;-->
<!--        <div style="background-color: #28a745; color: white; padding: 20px; border-radius: 8px; text-align: center;">-->
<!--            <h3 style="margin: 0; font-size: 2em;" th:text="${statistics.inStockProducts}"></h3>-->
<!--            <p style="margin: 5px 0 0 0;">–í –Ω–∞–ª–∏—á–∏–∏</p>-->
<!--        </div>-->

<!--        &lt;!&ndash; –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è &ndash;&gt;-->
<!--        <div style="background-color: #ffc107; color: black; padding: 20px; border-radius: 8px; text-align: center;">-->
<!--            <h3 style="margin: 0; font-size: 2em;" th:text="${statistics.lowStockProducts}"></h3>-->
<!--            <p style="margin: 5px 0 0 0;">–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è</p>-->
<!--        </div>-->

<!--        &lt;!&ndash; –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏ &ndash;&gt;-->
<!--        <div style="background-color: #dc3545; color: white; padding: 20px; border-radius: 8px; text-align: center;">-->
<!--            <h3 style="margin: 0; font-size: 2em;" th:text="${statistics.outOfStockProducts}"></h3>-->
<!--            <p style="margin: 5px 0 0 0;">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</p>-->
<!--        </div>-->

<!--        &lt;!&ndash; –û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è &ndash;&gt;-->
<!--        <div style="background-color: #17a2b8; color: white; padding: 20px; border-radius: 8px; text-align: center; grid-column: span 2;">-->
<!--            <h3 style="margin: 0; font-size: 1.5em;" th:text="${#numbers.formatDecimal(statistics.totalInventoryValue, 0, 2)} + ' —Ä—É–±.'"></h3>-->
<!--            <p style="margin: 5px 0 0 0;">–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è</p>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; –ü—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ &ndash;&gt;-->
<!--    <div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 30px;">-->
<!--        <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–ª–∏—á–∏—é:</h3>-->
<!--        <div style="display: flex; gap: 20px; align-items: center;">-->

<!--            &lt;!&ndash; –ü—Ä–æ—Å—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ &ndash;&gt;-->
<!--            <div style="flex: 0 0 300px;">-->
<!--                <div style="display: flex; height: 30px; border-radius: 15px; overflow: hidden; border: 1px solid #ccc;">-->
<!--                    &lt;!&ndash; –í –Ω–∞–ª–∏—á–∏–∏ &ndash;&gt;-->
<!--                    <div th:if="${statistics.totalProducts > 0}"-->
<!--                         th:style="'background-color: #28a745; width: ' + ${statistics.inStockProducts * 100 / statistics.totalProducts} + '%;'"></div>-->
<!--                    &lt;!&ndash; –ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è &ndash;&gt;-->
<!--                    <div th:if="${statistics.totalProducts > 0}"-->
<!--                         th:style="'background-color: #ffc107; width: ' + ${statistics.lowStockProducts * 100 / statistics.totalProducts} + '%;'"></div>-->
<!--                    &lt;!&ndash; –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏ &ndash;&gt;-->
<!--                    <div th:if="${statistics.totalProducts > 0}"-->
<!--                         th:style="'background-color: #dc3545; width: ' + ${statistics.outOfStockProducts * 100 / statistics.totalProducts} + '%;'"></div>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; –õ–µ–≥–µ–Ω–¥–∞ &ndash;&gt;-->
<!--            <div style="flex: 1;">-->
<!--                <div style="display: flex; flex-direction: column; gap: 5px;">-->
<!--                    <div style="display: flex; align-items: center; gap: 10px;">-->
<!--                        <div style="width: 20px; height: 20px; background-color: #28a745; border-radius: 3px;"></div>-->
<!--                        <span>–í –Ω–∞–ª–∏—á–∏–∏: <strong th:text="${statistics.inStockProducts}"></strong>-->
<!--                              (<span th:if="${statistics.totalProducts > 0}" th:text="${#numbers.formatDecimal(statistics.inStockProducts * 100 / statistics.totalProducts, 0, 1)} + '%'"></span>)</span>-->
<!--                    </div>-->
<!--                    <div style="display: flex; align-items: center; gap: 10px;">-->
<!--                        <div style="width: 20px; height: 20px; background-color: #ffc107; border-radius: 3px;"></div>-->
<!--                        <span>–ó–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è: <strong th:text="${statistics.lowStockProducts}"></strong>-->
<!--                              (<span th:if="${statistics.totalProducts > 0}" th:text="${#numbers.formatDecimal(statistics.lowStockProducts * 100 / statistics.totalProducts, 0, 1)} + '%'"></span>)</span>-->
<!--                    </div>-->
<!--                    <div style="display: flex; align-items: center; gap: 10px;">-->
<!--                        <div style="width: 20px; height: 20px; background-color: #dc3545; border-radius: 3px;"></div>-->
<!--                        <span>–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏: <strong th:text="${statistics.outOfStockProducts}"></strong>-->
<!--                              (<span th:if="${statistics.totalProducts > 0}" th:text="${#numbers.formatDecimal(statistics.outOfStockProducts * 100 / statistics.totalProducts, 0, 1)} + '%'"></span>)</span>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; –¢–æ–≤–∞—Ä—ã —Å –Ω–∏–∑–∫–∏–º –æ—Å—Ç–∞—Ç–∫–æ–º &ndash;&gt;-->
<!--<div th:if="${lowStockProducts != null and !lowStockProducts.isEmpty()}" style="margin: 30px 0;">-->
<!--    <h2 style="color: #ffc107;">‚ö†Ô∏è –¢–æ–≤–∞—Ä—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è (–º–µ–Ω–µ–µ 10 —à—Ç—É–∫)</h2>-->
<!--    <div style="background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px;">-->
<!--        <table border="1" style="border-collapse: collapse; width: 100%;">-->
<!--            <thead style="background-color: #ffc107;">-->
<!--            <tr>-->
<!--                <th style="padding: 8px; text-align: left;">–ù–∞–∑–≤–∞–Ω–∏–µ</th>-->
<!--                <th style="padding: 8px; text-align: left;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>-->
<!--                <th style="padding: 8px; text-align: left;">–ë—Ä–µ–Ω–¥</th>-->
<!--                <th style="padding: 8px; text-align: center;">–û—Å—Ç–∞—Ç–æ–∫</th>-->
<!--                <th style="padding: 8px; text-align: right;">–¶–µ–Ω–∞</th>-->
<!--                <th style="padding: 8px; text-align: center;">–î–µ–π—Å—Ç–≤–∏—è</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="product : ${lowStockProducts}">-->
<!--                <td style="padding: 8px;" th:text="${product.name}"></td>-->
<!--                <td style="padding: 8px;" th:text="${product.categoryName}"></td>-->
<!--                <td style="padding: 8px;" th:text="${product.brandName}"></td>-->
<!--                <td style="padding: 8px; text-align: center; font-weight: bold; color: orange;" th:text="${product.stockQuantity}"></td>-->
<!--                <td style="padding: 8px; text-align: right;" th:text="${#numbers.formatDecimal(product.price, 0, 2)} + ' —Ä—É–±.'"></td>-->
<!--                <td style="padding: 8px; text-align: center;">-->
<!--                    <a th:href="@{'/admin/product/view/' + ${product.id}}"-->
<!--                       style="color: #007bff; text-decoration: none; font-size: 12px;">-->
<!--                        –ü—Ä–æ—Å–º–æ—Ç—Ä-->
<!--                    </a>-->
<!--                </td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; –¢–æ–≤–∞—Ä—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞ —Å–∫–ª–∞–¥–µ &ndash;&gt;-->
<!--<div th:if="${outOfStockProducts != null and !outOfStockProducts.isEmpty()}" style="margin: 30px 0;">-->
<!--    <h2 style="color: #dc3545;">‚ùå –¢–æ–≤–∞—Ä—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ —Å–∫–ª–∞–¥–µ</h2>-->
<!--    <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 15px; border-radius: 8px;">-->
<!--        <table border="1" style="border-collapse: collapse; width: 100%;">-->
<!--            <thead style="background-color: #dc3545; color: white;">-->
<!--            <tr>-->
<!--                <th style="padding: 8px; text-align: left;">–ù–∞–∑–≤–∞–Ω–∏–µ</th>-->
<!--                <th style="padding: 8px; text-align: left;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>-->
<!--                <th style="padding: 8px; text-align: left;">–ë—Ä–µ–Ω–¥</th>-->
<!--                <th style="padding: 8px; text-align: right;">–¶–µ–Ω–∞</th>-->
<!--                <th style="padding: 8px; text-align: center;">–î–µ–π—Å—Ç–≤–∏—è</th>-->
<!--            </tr>-->
<!--            </thead>-->
<!--            <tbody>-->
<!--            <tr th:each="product : ${outOfStockProducts}">-->
<!--                <td style="padding: 8px;" th:text="${product.name}"></td>-->
<!--                <td style="padding: 8px;" th:text="${product.categoryName}"></td>-->
<!--                <td style="padding: 8px;" th:text="${product.brandName}"></td>-->
<!--                <td style="padding: 8px; text-align: right;" th:text="${#numbers.formatDecimal(product.price, 0, 2)} + ' —Ä—É–±.'"></td>-->
<!--                <td style="padding: 8px; text-align: center;">-->
<!--                    <a th:href="@{'/admin/product/view/' + ${product.id}}"-->
<!--                       style="color: #007bff; text-decoration: none; font-size: 12px;">-->
<!--                        –ü—Ä–æ—Å–º–æ—Ç—Ä-->
<!--                    </a>-->
<!--                </td>-->
<!--            </tr>-->
<!--            </tbody>-->
<!--        </table>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è &ndash;&gt;-->
<!--<div style="margin: 30px 0; padding: 20px; background-color: #e9ecef; border-radius: 8px;">-->
<!--    <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:</h3>-->
<!--    <div style="display: flex; gap: 10px; flex-wrap: wrap;">-->
<!--        <a th:href="@{/admin/product}"-->
<!--           style="padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px;">-->
<!--            ‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç-->
<!--        </a>-->
<!--        <a th:href="@{/admin/product/list}"-->
<!--           style="padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; border-radius: 5px;">-->
<!--            üìã –í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã-->
<!--        </a>-->
<!--        <a th:href="@{/admin/product/list(status='low-stock')}"-->
<!--           style="padding: 10px 20px; background-color: #ffc107; color: black; text-decoration: none; border-radius: 5px;">-->
<!--            ‚ö†Ô∏è –ó–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è —Ç–æ–≤–∞—Ä—ã-->
<!--        </a>-->
<!--        <a th:href="@{/admin/product/list(status='out-of-stock')}"-->
<!--           style="padding: 10px 20px; background-color: #dc3545; color: white; text-decoration: none; border-radius: 5px;">-->
<!--            ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã-->
<!--        </a>-->
<!--        <a th:href="@{/admin/category/list}"-->
<!--           style="padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px;">-->
<!--            üìÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏-->
<!--        </a>-->
<!--        <a th:href="@{/admin/brand/list}"-->
<!--           style="padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px;">-->
<!--            üè∑Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞–º–∏-->
<!--        </a>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ &ndash;&gt;-->
<!--<div style="margin: 30px 0; padding: 20px; background-color: #cff4fc; border: 1px solid #b6effb; border-radius: 8px;">-->
<!--    <h3 style="color: #055160;">üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:</h3>-->
<!--    <ul style="margin: 10px 0; padding-left: 20px;">-->
<!--        <li th:if="${statistics != null and statistics.lowStockProducts > 0}" style="margin: 5px 0;">-->
<!--            –£ –≤–∞—Å <strong th:text="${statistics.lowStockProducts}"></strong> —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º –ø–æ–ø–æ–ª–Ω–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏.-->
<!--        </li>-->
<!--        <li th:if="${statistics != null and statistics.outOfStockProducts > 0}" style="margin: 5px 0;">-->
<!--            <strong th:text="${statistics.outOfStockProducts}"></strong> —Ç–æ–≤–∞—Ä–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –Ω–∞ —Å–∫–ª–∞–¥–µ. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ä–æ—á–Ω–æ–µ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ.-->
<!--        </li>-->
<!--        <li th:if="${statistics != null and statistics.totalProducts == 0}" style="margin: 5px 0;">-->
<!--            –£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ. –ù–∞—á–Ω–∏—Ç–µ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.-->
<!--        </li>-->
<!--        <li th:if="${statistics != null and statistics.totalProducts > 0 and statistics.inStockProducts == statistics.totalProducts}" style="margin: 5px 0; color: green;">-->
<!--            –û—Ç–ª–∏—á–Ω–æ! –í—Å–µ —Ç–æ–≤–∞—Ä—ã –≤ –Ω–∞–ª–∏—á–∏–∏.-->
<!--        </li>-->
<!--    </ul>-->
<!--</div>-->

<!--&lt;!&ndash; –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è &ndash;&gt;-->
<!--<div style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 20px; background-color: #f8f9fa; padding: 10px; border-radius: 8px;">-->
<!--    <h4>–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</h4>-->
<!--    <div style="font-size: 12px; color: #666;">-->
<!--        <p><strong>–í—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞:</strong> <span th:text="${#temporals.format(#temporals.createNow(), 'dd.MM.yyyy HH:mm:ss')}"></span></p>-->
<!--        <p th:if="${statistics != null}"><strong>–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –±–∞–∑–µ:</strong> <span th:text="${statistics.totalProducts}"></span></p>-->
<!--        <p th:if="${statistics != null}"><strong>–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–∫–ª–∞–¥–∞:</strong> <span th:text="${#numbers.formatDecimal(statistics.totalInventoryValue, 0, 2)} + ' —Ä—É–±.'"></span></p>-->
<!--        <p th:if="${statistics != null}"><strong>–°—Ä–µ–¥–Ω—è—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞:</strong>-->
<!--            <span th:if="${statistics.totalProducts > 0}" th:text="${#numbers.formatDecimal(statistics.totalInventoryValue / statistics.totalProducts, 0, 2)} + ' —Ä—É–±.'"></span>-->
<!--            <span th:if="${statistics.totalProducts == 0}">0 —Ä—É–±.</span>-->
<!--        </p>-->
<!--    </div>-->
<!--</div>-->

<!--&lt;!&ndash; –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö &ndash;&gt;-->
<!--<div th:if="${statistics == null}" style="padding: 20px; background-color: #f8f9fa; border: 1px solid #dee2e6; margin: 20px 0; text-align: center;">-->
<!--    <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</h3>-->
<!--    <p>–í–æ–∑–º–æ–∂–Ω–æ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –≤ —Å–∏—Å—Ç–µ–º–µ –µ—â–µ –Ω–µ—Ç –ø—Ä–æ–¥—É–∫—Ç–æ–≤.</p>-->
<!--    <a th:href="@{/admin/product}" style="padding: 10px 20px; background-color: #007bff; color: white; text-decoration: none; display: inline-block;">-->
<!--        –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç-->
<!--    </a>-->
<!--</div>-->

<!--&lt;!&ndash; –ù–∞–≤–∏–≥–∞—Ü–∏—è &ndash;&gt;-->
<!--<div style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 20px;">-->
<!--    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è:</h3>-->
<!--    <ul>-->
<!--        <li><a th:href="@{/admin/product/list}">–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤</a></li>-->
<!--        <li><a th:href="@{/admin/product}">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç</a></li>-->
<!--        <li><a th:href="@{/admin/product/statistics}">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</a></li>-->
<!--        <li><a th:href="@{/admin/category/list}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏</a></li>-->
<!--        <li><a th:href="@{/admin/brand/list}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–µ–Ω–¥–∞–º–∏</a></li>-->
<!--    </ul>-->
<!--</div>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä—ñ–≤ - Land of Chocolate</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">

    <style>
        :root {
            --primary-color: #2C2C2C;
            --accent-color: #D4AF37;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --warning-color: #ffc107;
            --info-color: #17a2b8;
            --light-bg: #F8F9FA;
            --border-color: #DEE2E6;
        }

        body {
            background-color: var(--light-bg);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .main-header {
            background: linear-gradient(135deg, var(--primary-color) 0%, #404040 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
            border-radius: 0 0 30px 30px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .header-icon {
            font-size: 4rem;
            color: var(--accent-color);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
        }

        .header-title {
            font-size: 3rem;
            font-weight: 800;
            margin: 0;
            text-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .header-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin: 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .stat-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            border-radius: 20px 20px 0 0;
        }

        .stat-total::before { background: linear-gradient(90deg, var(--info-color), #20c6dd); }
        .stat-in-stock::before { background: linear-gradient(90deg, var(--success-color), #32d44a); }
        .stat-low-stock::before { background: linear-gradient(90deg, var(--warning-color), #ffdb4d); }
        .stat-out-stock::before { background: linear-gradient(90deg, var(--danger-color), #ff6b6b); }
        .stat-value::before { background: linear-gradient(90deg, var(--accent-color), #f1c40f); }

        .stat-number {
            font-size: 3.5rem;
            font-weight: 900;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 1;
        }

        .stat-total .stat-number { color: var(--info-color); }
        .stat-in-stock .stat-number { color: var(--success-color); }
        .stat-low-stock .stat-number { color: var(--warning-color); }
        .stat-out-stock .stat-number { color: var(--danger-color); }
        .stat-value .stat-number { color: var(--accent-color); font-size: 2.5rem; }

        .stat-label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-top: 1rem;
            position: relative;
            z-index: 1;
        }

        .stat-icon {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            opacity: 0.2;
            z-index: 0;
        }

        .distribution-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 3rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        .progress-container {
            height: 40px;
            background: #f8f9fa;
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid var(--border-color);
            position: relative;
        }

        .progress-bar-custom {
            height: 100%;
            transition: width 2s ease-in-out;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .alert-section {
            margin: 3rem 0;
        }

        .alert-custom {
            border: none;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            border-left: 6px solid;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .alert-warning-custom {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border-left-color: var(--warning-color);
            color: #856404;
        }

        .alert-danger-custom {
            background: linear-gradient(135deg, #f8d7da 0%, #ffcdd2 100%);
            border-left-color: var(--danger-color);
            color: #721c24;
        }

        .alert-info-custom {
            background: linear-gradient(135deg, #cff4fc 0%, #b6effb 100%);
            border-left-color: var(--info-color);
            color: #055160;
        }

        .table-container {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        .table-header {
            padding: 1.5rem 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
        }

        .table-header.warning {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            color: #856404;
        }

        .table-header.danger {
            background: linear-gradient(135deg, #f8d7da 0%, #ffcdd2 100%);
            color: #721c24;
        }

        .custom-table {
            margin: 0;
        }

        .custom-table thead th {
            background: var(--light-bg);
            font-weight: 700;
            color: var(--primary-color);
            padding: 1rem;
            border-bottom: 2px solid var(--border-color);
        }

        .custom-table tbody tr {
            transition: all 0.3s ease;
        }

        .custom-table tbody tr:hover {
            background: #f8f9fa;
            transform: scale(1.001);
        }

        .custom-table td {
            padding: 1rem;
            border-bottom: 1px solid #f0f0f0;
        }

        .stock-number {
            font-weight: 800;
            font-size: 1.2rem;
            padding: 4px 12px;
            border-radius: 15px;
        }

        .stock-warning {
            background: var(--warning-color);
            color: #212529;
        }

        .stock-danger {
            background: var(--danger-color);
            color: white;
        }

        .quick-actions {
            background: linear-gradient(135deg, #e9ecef 0%, #f8f9fa 100%);
            border-radius: 20px;
            padding: 2rem;
            margin: 3rem 0;
            border: 1px solid var(--border-color);
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .action-btn {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid transparent;
            text-align: center;
            justify-content: center;
        }

        .action-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
            text-decoration: none;
        }

        .btn-success-action {
            background: linear-gradient(135deg, var(--success-color), #32d44a);
            color: white;
        }

        .btn-info-action {
            background: linear-gradient(135deg, var(--info-color), #20c6dd);
            color: white;
        }

        .btn-warning-action {
            background: linear-gradient(135deg, var(--warning-color), #ffdb4d);
            color: #212529;
        }

        .btn-danger-action {
            background: linear-gradient(135deg, var(--danger-color), #ff6b6b);
            color: white;
        }

        .btn-secondary-action {
            background: linear-gradient(135deg, #6c757d, #8a9296);
            color: white;
        }

        .recommendations {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin: 3rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
            border-left: 6px solid var(--accent-color);
        }

        .recommendations ul {
            list-style-type: none;
            padding-left: 0;
        }

        .recommendations li {
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .recommendations li:last-child {
            border-bottom: none;
        }

        .recommendation-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            flex-shrink: 0;
        }

        .icon-warning { background: var(--warning-color); color: #212529; }
        .icon-danger { background: var(--danger-color); }
        .icon-info { background: var(--info-color); }
        .icon-success { background: var(--success-color); }

        .tech-info {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 1.5rem;
            margin-top: 3rem;
            border: 2px solid var(--border-color);
            font-family: 'Courier New', monospace;
        }

        .navigation-section {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-top: 3rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        .nav-links {
            list-style: none;
            padding: 0;
            margin: 0;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            text-decoration: none;
            padding: 1rem;
            border-radius: 10px;
            background: var(--light-bg);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .nav-links a:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .empty-state {
            background: white;
            border-radius: 25px;
            padding: 4rem 2rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid var(--border-color);
        }

        .empty-icon {
            font-size: 5rem;
            color: var(--accent-color);
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }

            .header-title {
                font-size: 2.5rem;
            }

            .stats-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .stat-number {
                font-size: 2.5rem;
            }

            .action-grid {
                grid-template-columns: 1fr;
            }

            .distribution-card .row {
                flex-direction: column;
            }
        }

        @keyframes countUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card {
            animation: countUp 0.6s ease-out forwards;
        }

        .stat-card:nth-child(2) { animation-delay: 0.1s; }
        .stat-card:nth-child(3) { animation-delay: 0.2s; }
        .stat-card:nth-child(4) { animation-delay: 0.3s; }
        .stat-card:nth-child(5) { animation-delay: 0.4s; }
        .stat-card:nth-child(6) { animation-delay: 0.5s; }
    </style>
</head>
<body>
<div class="container-fluid">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
    <div class="main-header">
        <div class="container">
            <div class="header-content">
                <i class="header-icon bi bi-bar-chart-fill"></i>
                <div>
                    <h1 class="header-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–æ–≤–∞—Ä—ñ–≤</h1>
                    <p class="header-subtitle">–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –∑–≤—ñ—Ç–∏ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É –ø—Ä–æ–¥—É–∫—Ü—ñ—ó</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫–∏ -->
        <div th:if="${errorMessage}" class="alert alert-custom alert-danger-custom">
            <i class="bi bi-exclamation-triangle-fill me-2"></i>
            <span th:text="${errorMessage}"></span>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div th:if="${statistics != null}">

            <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ –∑ –æ—Å–Ω–æ–≤–Ω–∏–º–∏ –ø–æ–∫–∞–∑–Ω–∏–∫–∞–º–∏ -->
            <div class="stats-grid">
                <!-- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤ -->
                <div class="stat-card stat-total">
                    <i class="stat-icon bi bi-boxes"></i>
                    <div class="stat-number" th:text="${statistics.totalProducts}">0</div>
                    <div class="stat-label">–í—Å—å–æ–≥–æ —Ç–æ–≤–∞—Ä—ñ–≤</div>
                </div>

                <!-- –í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ -->
                <div class="stat-card stat-in-stock">
                    <i class="stat-icon bi bi-check-circle-fill"></i>
                    <div class="stat-number" th:text="${statistics.inStockProducts}">0</div>
                    <div class="stat-label">–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ</div>
                </div>

                <!-- –ó–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è -->
                <div class="stat-card stat-low-stock">
                    <i class="stat-icon bi bi-exclamation-triangle-fill"></i>
                    <div class="stat-number" th:text="${statistics.lowStockProducts}">0</div>
                    <div class="stat-label">–ó–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è</div>
                </div>

                <!-- –ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ -->
                <div class="stat-card stat-out-stock">
                    <i class="stat-icon bi bi-x-circle-fill"></i>
                    <div class="stat-number" th:text="${statistics.outOfStockProducts}">0</div>
                    <div class="stat-label">–ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ</div>
                </div>

                <!-- –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
                <div class="stat-card stat-value" style="grid-column: span 2;">
                    <i class="stat-icon bi bi-currency-dollar"></i>
                    <div class="stat-number" th:text="${#numbers.formatDecimal(statistics.totalInventoryValue, 0, 2)} + ' –≥—Ä–Ω'">0 –≥—Ä–Ω</div>
                    <div class="stat-label">–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å —ñ–Ω–≤–µ–Ω—Ç–∞—Ä—è</div>
                </div>
            </div>

            <!-- –†–æ–∑–ø–æ–¥—ñ–ª —Ç–æ–≤–∞—Ä—ñ–≤ -->
            <div class="distribution-card">
                <h3 class="mb-4">
                    <i class="bi bi-pie-chart me-2"></i>–†–æ–∑–ø–æ–¥—ñ–ª —Ç–æ–≤–∞—Ä—ñ–≤ –∑–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—é
                </h3>

                <div class="row align-items-center">
                    <!-- –î—ñ–∞–≥—Ä–∞–º–∞ -->
                    <div class="col-md-6">
                        <div class="progress-container mb-3">
                            <div th:if="${statistics.totalProducts > 0}"
                                 class="progress-bar-custom"
                                 th:style="'background: linear-gradient(90deg, #28a745 0%, #28a745 ' + ${statistics.inStockProducts * 100 / statistics.totalProducts} + '%, #ffc107 ' + ${statistics.inStockProducts * 100 / statistics.totalProducts} + '%, #ffc107 ' + ${(statistics.inStockProducts + statistics.lowStockProducts) * 100 / statistics.totalProducts} + '%, #dc3545 ' + ${(statistics.inStockProducts + statistics.lowStockProducts) * 100 / statistics.totalProducts} + '%, #dc3545 100%); width: 100%;'">
                            </div>
                        </div>
                    </div>

                    <!-- –õ–µ–≥–µ–Ω–¥–∞ -->
                    <div class="col-md-6">
                        <div class="d-flex flex-column gap-2">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #28a745;"></div>
                                <div class="flex-grow-1">
                                    <strong>–í –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ:</strong>
                                    <span th:text="${statistics.inStockProducts}">0</span>
                                    <span th:if="${statistics.totalProducts > 0}"
                                          class="text-muted">
                                            (<span th:text="${#numbers.formatDecimal(statistics.inStockProducts * 100 / statistics.totalProducts, 0, 1)}">0</span>%)
                                        </span>
                                </div>
                            </div>

                            <div class="legend-item">
                                <div class="legend-color" style="background: #ffc107;"></div>
                                <div class="flex-grow-1">
                                    <strong>–ó–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è:</strong>
                                    <span th:text="${statistics.lowStockProducts}">0</span>
                                    <span th:if="${statistics.totalProducts > 0}"
                                          class="text-muted">
                                            (<span th:text="${#numbers.formatDecimal(statistics.lowStockProducts * 100 / statistics.totalProducts, 0, 1)}">0</span>%)
                                        </span>
                                </div>
                            </div>

                            <div class="legend-item">
                                <div class="legend-color" style="background: #dc3545;"></div>
                                <div class="flex-grow-1">
                                    <strong>–ù–µ–º–∞—î –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ:</strong>
                                    <span th:text="${statistics.outOfStockProducts}">0</span>
                                    <span th:if="${statistics.totalProducts > 0}"
                                          class="text-muted">
                                            (<span th:text="${#numbers.formatDecimal(statistics.outOfStockProducts * 100 / statistics.totalProducts, 0, 1)}">0</span>%)
                                        </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –¢–æ–≤–∞—Ä–∏ –∑ –Ω–∏–∑—å–∫–∏–º–∏ –∑–∞–ª–∏—à–∫–∞–º–∏ -->
        <div class="alert-section" th:if="${lowStockProducts != null and !lowStockProducts.isEmpty()}">
            <div class="alert-custom alert-warning-custom">
                <h4 class="mb-3">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    –¢–æ–≤–∞—Ä–∏ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è (–º–µ–Ω—à–µ 10 —à—Ç—É–∫)
                </h4>
            </div>

            <div class="table-container">
                <div class="table-header warning">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    <span>–¢–æ–≤–∞—Ä–∏, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è</span>
                </div>

                <div class="table-responsive">
                    <table class="table custom-table">
                        <thead>
                        <tr>
                            <th><i class="bi bi-box me-1"></i>–ù–∞–∑–≤–∞</th>
                            <th><i class="bi bi-folder me-1"></i>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                            <th><i class="bi bi-tag me-1"></i>–ë—Ä–µ–Ω–¥</th>
                            <th class="text-center"><i class="bi bi-boxes me-1"></i>–ó–∞–ª–∏—à–æ–∫</th>
                            <th class="text-end"><i class="bi bi-currency-dollar me-1"></i>–¶—ñ–Ω–∞</th>
                            <th class="text-center"><i class="bi bi-gear me-1"></i>–î—ñ—ó</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="product : ${lowStockProducts}">
                            <td class="fw-bold" th:text="${product.name}"></td>
                            <td th:text="${product.categoryName}"></td>
                            <td th:text="${product.brandName}"></td>
                            <td class="text-center">
                                <span class="stock-number stock-warning" th:text="${product.stockQuantity}"></span>
                            </td>
                            <td class="text-end fw-bold" th:text="${#numbers.formatDecimal(product.price, 0, 2)} + ' –≥—Ä–Ω'"></td>
                            <td class="text-center">
                                <a th:href="@{'/admin/product/view/' + ${product.id}}"
                                   class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-eye"></i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- –¢–æ–≤–∞—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –Ω–∞ —Å–∫–ª–∞–¥—ñ -->
        <div class="alert-section" th:if="${outOfStockProducts != null and !outOfStockProducts.isEmpty()}">
            <div class="alert-custom alert-danger-custom">
                <h4 class="mb-3">
                    <i class="bi bi-x-circle-fill me-2"></i>
                    –¢–æ–≤–∞—Ä–∏ –≤—ñ–¥—Å—É—Ç–Ω—ñ –Ω–∞ —Å–∫–ª–∞–¥—ñ
                </h4>
            </div>

            <div class="table-container">
                <div class="table-header danger">
                    <i class="bi bi-x-circle-fill"></i>
                    <span>–¢–æ–≤–∞—Ä–∏, —â–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ–≥–æ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è</span>
                </div>

                <div class="table-responsive">
                    <table class="table custom-table">
                        <thead>
                        <tr>
                            <th><i class="bi bi-box me-1"></i>–ù–∞–∑–≤–∞</th>
                            <th><i class="bi bi-folder me-1"></i>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                            <th><i class="bi bi-tag me-1"></i>–ë—Ä–µ–Ω–¥</th>
                            <th class="text-end"><i class="bi bi-currency-dollar me-1"></i>–¶—ñ–Ω–∞</th>
                            <th class="text-center"><i class="bi bi-gear me-1"></i>–î—ñ—ó</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="product : ${outOfStockProducts}">
                            <td class="fw-bold" th:text="${product.name}"></td>
                            <td th:text="${product.categoryName}"></td>
                            <td th:text="${product.brandName}"></td>
                            <td class="text-end fw-bold" th:text="${#numbers.formatDecimal(product.price, 0, 2)} + ' –≥—Ä–Ω'"></td>
                            <td class="text-center">
                                <a th:href="@{'/admin/product/view/' + ${product.id}}"
                                   class="btn btn-sm btn-outline-primary">
                                    <i class="bi bi-eye"></i>
                                </a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- –®–≤–∏–¥–∫—ñ –¥—ñ—ó -->
        <div class="quick-actions">
            <h3 class="mb-0">
                <i class="bi bi-lightning-fill me-2"></i>–®–≤–∏–¥–∫—ñ –¥—ñ—ó
            </h3>
            <div class="action-grid">
                <a th:href="@{/admin/product}" class="action-btn btn-success-action">
                    <i class="bi bi-plus-circle-fill"></i>
                    –î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä
                </a>
                <a th:href="@{/admin/product/list}" class="action-btn btn-info-action">
                    <i class="bi bi-list"></i>
                    –í—Å—ñ —Ç–æ–≤–∞—Ä–∏
                </a>
                <a th:href="@{/admin/product/list(status='low-stock')}" class="action-btn btn-warning-action">
                    <i class="bi bi-exclamation-triangle-fill"></i>
                    –©–æ –∑–∞–∫—ñ–Ω—á—É—é—Ç—å—Å—è
                </a>
                <a th:href="@{/admin/product/list(status='out-of-stock')}" class="action-btn btn-danger-action">
                    <i class="bi bi-x-circle-fill"></i>
                    –í—ñ–¥—Å—É—Ç–Ω—ñ —Ç–æ–≤–∞—Ä–∏
                </a>
                <a th:href="@{/admin/category/list}" class="action-btn btn-secondary-action">
                    <i class="bi bi-folder-fill"></i>
                    –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó
                </a>
                <a th:href="@{/admin/brand/list}" class="action-btn btn-secondary-action">
                    <i class="bi bi-tags-fill"></i>
                    –ë—Ä–µ–Ω–¥–∏
                </a>
            </div>
        </div>

        <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó -->
        <div class="recommendations">
            <h3 class="mb-4">
                <i class="bi bi-lightbulb-fill me-2" style="color: var(--accent-color);"></i>
                –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
            </h3>
            <ul>
                <li th:if="${statistics != null and statistics.lowStockProducts > 0}">
                    <div class="recommendation-icon icon-warning">
                        <i class="bi bi-exclamation-triangle-fill"></i>
                    </div>
                    <div>
                        –£ –≤–∞—Å <strong th:text="${statistics.lowStockProducts}">0</strong> —Ç–æ–≤–∞—Ä—ñ–≤ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è.
                        –†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ–ø–æ–≤–Ω–∏—Ç–∏ –∑–∞–ª–∏—à–∫–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º.
                    </div>
                </li>
                <li th:if="${statistics != null and statistics.outOfStockProducts > 0}">
                    <div class="recommendation-icon icon-danger">
                        <i class="bi bi-x-circle-fill"></i>
                    </div>
                    <div>
                        <strong th:text="${statistics.outOfStockProducts}">0</strong> —Ç–æ–≤–∞—Ä—ñ–≤ –≤—ñ–¥—Å—É—Ç–Ω—ñ –Ω–∞ —Å–∫–ª–∞–¥—ñ.
                        –ù–µ–æ–±—Ö—ñ–¥–Ω–µ —Ç–µ—Ä–º—ñ–Ω–æ–≤–µ –ø–æ–ø–æ–≤–Ω–µ–Ω–Ω—è –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–æ–¥–∞–∂—ñ–≤.
                    </div>
                </li>
                <li th:if="${statistics != null and statistics.totalProducts == 0}">
                    <div class="recommendation-icon icon-info">
                        <i class="bi bi-info-circle-fill"></i>
                    </div>
                    <div>
                        –£ –≤–∞—Å –ø–æ–∫–∏ –Ω–µ–º–∞—î —Ç–æ–≤–∞—Ä—ñ–≤ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ. –ü–æ—á–Ω—ñ—Ç—å –∑ –¥–æ–¥–∞–≤–∞–Ω–Ω—è –ø–µ—Ä—à–æ–≥–æ —Ç–æ–≤–∞—Ä—É –¥–ª—è –ø–æ—á–∞—Ç–∫—É —Ä–æ–±–æ—Ç–∏.
                    </div>
                </li>
                <li th:if="${statistics != null and statistics.totalProducts > 0 and statistics.inStockProducts == statistics.totalProducts}">
                    <div class="recommendation-icon icon-success">
                        <i class="bi bi-check-circle-fill"></i>
                    </div>
                    <div style="color: var(--success-color); font-weight: 600;">
                        –í—ñ–¥–º—ñ–Ω–Ω–æ! –í—Å—ñ —Ç–æ–≤–∞—Ä–∏ –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ. –í–∞—à —Å–∫–ª–∞–¥ –ø–æ–≤–Ω—ñ—Å—Ç—é —É–∫–æ–º–ø–ª–µ–∫—Ç–æ–≤–∞–Ω–∏–π.
                    </div>
                </li>
                <li th:if="${statistics != null and statistics.totalProducts > 50}">
                    <div class="recommendation-icon icon-info">
                        <i class="bi bi-graph-up"></i>
                    </div>
                    <div>
                        –£ –≤–∞—Å –≤–µ–ª–∏–∫–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—ñ–≤. –†–æ–∑–≥–ª—è–Ω—å—Ç–µ –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ –¥–ª—è –∫—Ä–∞—â–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó.
                    </div>
                </li>
            </ul>
        </div>

        <!-- –¢–µ—Ö–Ω—ñ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è -->
        <div class="tech-info">
            <h5 class="mb-3">
                <i class="bi bi-gear-fill me-2"></i>–¢–µ—Ö–Ω—ñ—á–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
            </h5>
            <div class="row">
                <div class="col-md-6">
                    <p class="mb-2">
                        <strong>–ß–∞—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–≤—ñ—Ç—É:</strong>
                        <span th:text="${#temporals.format(#temporals.createNow(), 'dd.MM.yyyy HH:mm:ss')}"></span>
                    </p>
                    <p class="mb-2" th:if="${statistics != null}">
                        <strong>–í—Å—å–æ–≥–æ —Ç–æ–≤–∞—Ä—ñ–≤ –≤ –±–∞–∑—ñ:</strong>
                        <span th:text="${statistics.totalProducts}">0</span>
                    </p>
                </div>
                <div class="col-md-6">
                    <p class="mb-2" th:if="${statistics != null}">
                        <strong>–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å —Å–∫–ª–∞–¥—É:</strong>
                        <span th:text="${#numbers.formatDecimal(statistics.totalInventoryValue, 0, 2)} + ' –≥—Ä–Ω'">0 –≥—Ä–Ω</span>
                    </p>
                    <p class="mb-2" th:if="${statistics != null}">
                        <strong>–°–µ—Ä–µ–¥–Ω—è –≤–∞—Ä—Ç—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É:</strong>
                        <span th:if="${statistics.totalProducts > 0}"
                              th:text="${#numbers.formatDecimal(statistics.totalInventoryValue / statistics.totalProducts, 0, 2)} + ' –≥—Ä–Ω'">0 –≥—Ä–Ω</span>
                        <span th:if="${statistics.totalProducts == 0}">0 –≥—Ä–Ω</span>
                    </p>
                </div>
            </div>
        </div>

        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ—è -->
        <div class="navigation-section">
            <h5 class="mb-3">
                <i class="bi bi-compass me-2"></i>–®–≤–∏–¥–∫–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è
            </h5>
            <ul class="nav-links">
                <li>
                    <a th:href="@{/admin/product/list}">
                        <i class="bi bi-list"></i>
                        –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/product}">
                        <i class="bi bi-plus-circle-fill"></i>
                        –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç–æ–≤–∞—Ä
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/product/statistics}">
                        <i class="bi bi-arrow-clockwise"></i>
                        –û–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/category/list}">
                        <i class="bi bi-folder"></i>
                        –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin/brand/list}">
                        <i class="bi bi-tag"></i>
                        –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—Ä–µ–Ω–¥–∞–º–∏
                    </a>
                </li>
                <li>
                    <a th:href="@{/admin}">
                        <i class="bi bi-house"></i>
                        –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- –°—Ç–∞–Ω –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö -->
    <div th:if="${statistics == null}" class="container">
        <div class="empty-state">
            <div class="empty-icon">
                <i class="bi bi-exclamation-triangle"></i>
            </div>
            <h3 class="mb-3">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞</h3>
            <p class="mb-4">
                –ú–æ–∂–ª–∏–≤–æ, —Å—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö –∞–±–æ –≤ —Å–∏—Å—Ç–µ–º—ñ —â–µ –Ω–µ–º–∞—î —Ç–æ–≤–∞—Ä—ñ–≤ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.
            </p>
            <a th:href="@{/admin/product}" class="btn btn-lg btn-success">
                <i class="bi bi-plus-circle-fill me-2"></i>
                –î–æ–¥–∞—Ç–∏ –ø–µ—Ä—à–∏–π —Ç–æ–≤–∞—Ä
            </a>
        </div>
    </div>
</div>

<!-- Bootstrap JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- –î–æ–¥–∞—Ç–∫–æ–≤–∏–π JavaScript -->
<script>
    // –ê–Ω—ñ–º–∞—Ü—ñ—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    document.addEventListener('DOMContentLoaded', function() {
        // –ê–Ω—ñ–º–∞—Ü—ñ—è —á–∏—Å–µ–ª —É —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö –∫–∞—Ä—Ç–∫–∞—Ö
        const statNumbers = document.querySelectorAll('.stat-number');
        statNumbers.forEach((element, index) => {
            const text = element.textContent.trim();
            const number = parseInt(text.replace(/[^\d]/g, ''));

            if (number && !isNaN(number) && number < 1000) {
                element.textContent = '0';

                setTimeout(() => {
                    animateNumber(element, 0, number, 1000, text);
                }, index * 200);
            }
        });

        // –ê–Ω—ñ–º–∞—Ü—ñ—è –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä—É
        setTimeout(() => {
            const progressBar = document.querySelector('.progress-bar-custom');
            if (progressBar) {
                progressBar.style.width = '100%';
            }
        }, 1000);

        // –ê–Ω—ñ–º–∞—Ü—ñ—è –ø–æ—è–≤–∏ —Ç–∞–±–ª–∏—Ü—å
        const tables = document.querySelectorAll('.table-container');
        tables.forEach((table, index) => {
            table.style.opacity = '0';
            table.style.transform = 'translateY(30px)';

            setTimeout(() => {
                table.style.transition = 'all 0.6s ease';
                table.style.opacity = '1';
                table.style.transform = 'translateY(0)';
            }, 500 + index * 200);
        });

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –µ—Ñ–µ–∫—Ç—ñ–≤ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ
        const actionButtons = document.querySelectorAll('.action-btn');
        actionButtons.forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.02)';
            });

            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—É–ª—å—Å—É—é—á–æ–≥–æ –µ—Ñ–µ–∫—Ç—É –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
        const dangerAlerts = document.querySelectorAll('.alert-danger-custom');
        dangerAlerts.forEach(alert => {
            setInterval(() => {
                alert.style.boxShadow = '0 8px 25px rgba(220, 53, 69, 0.3)';
                setTimeout(() => {
                    alert.style.boxShadow = '0 8px 25px rgba(0,0,0,0.1)';
                }, 1000);
            }, 3000);
        });
    });

    // –§—É–Ω–∫—Ü—ñ—è –∞–Ω—ñ–º–∞—Ü—ñ—ó —á–∏—Å–µ–ª
    function animateNumber(element, start, end, duration, originalText) {
        const startTime = performance.now();
        const isPrice = originalText.includes('–≥—Ä–Ω');
        const hasComma = originalText.includes(',');

        function updateNumber(currentTime) {
            const elapsed = currentTime - startTime;
            const progress = Math.min(elapsed / duration, 1);

            // Easing function –¥–ª—è –ø–ª–∞–≤–Ω–æ—ó –∞–Ω—ñ–º–∞—Ü—ñ—ó
            const easeOut = 1 - Math.pow(1 - progress, 3);
            const currentValue = Math.floor(start + (end - start) * easeOut);

            if (isPrice) {
                element.textContent = currentValue.toLocaleString('uk-UA') + ' –≥—Ä–Ω';
            } else if (hasComma) {
                element.textContent = currentValue.toLocaleString('uk-UA');
            } else {
                element.textContent = currentValue;
            }

            if (progress < 1) {
                requestAnimationFrame(updateNumber);
            } else {
                element.textContent = originalText; // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç
            }
        }

        requestAnimationFrame(updateNumber);
    }

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    function refreshStatistics() {
        // –ü–æ–∫–∞–∑—É—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        const refreshBtn = document.querySelector('a[href*="statistics"]');
        if (refreshBtn) {
            const originalText = refreshBtn.innerHTML;
            refreshBtn.innerHTML = '<i class="bi bi-arrow-clockwise"></i> –û–Ω–æ–≤–ª–µ–Ω–Ω—è...';
            refreshBtn.style.pointerEvents = 'none';

            setTimeout(() => {
                window.location.reload();
            }, 1000);
        }
    }

    // –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–Ω—ñ —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è
    document.addEventListener('keydown', function(e) {
        // F5 –∞–±–æ Ctrl+R = –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        if (e.key === 'F5' || (e.ctrlKey && e.key === 'r')) {
            e.preventDefault();
            refreshStatistics();
        }

        // Ctrl+N = –Ω–æ–≤–∏–π —Ç–æ–≤–∞—Ä
        if (e.ctrlKey && e.key === 'n') {
            e.preventDefault();
            window.location.href = '/admin/product';
        }

        // Ctrl+L = —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä—ñ–≤
        if (e.ctrlKey && e.key === 'l') {
            e.preventDefault();
            window.location.href = '/admin/product/list';
        }
    });

    // –ü—ñ–¥–∫–∞–∑–∫–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    function showTooltips() {
        const statCards = document.querySelectorAll('.stat-card');
        statCards.forEach(card => {
            card.addEventListener('mouseenter', function() {
                // –ú–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ
            });
        });
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—ñ–¥–∫–∞–∑–æ–∫
    showTooltips();

    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –ø–µ–≤–Ω–∏–π —á–∞—Å (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
    setInterval(refreshStatistics, 300000); // –ö–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
</script>
</body>
</html>